<div class="mb-5">
    <ol class="flex font-semibold text-primary dark:text-white-dark">
        <li class="bg-[#ebedf2] ltr:rounded-l-md rtl:rounded-r-md dark:bg-[#1b2e4b]">
            <a href="javascript:;" (click)="servlist()"
                class="relative flex h-full items-center p-1.5 before:absolute before:inset-y-0 before:z-[1] before:m-auto before:h-0 before:w-0 before:border-[16px] before:border-l-[15px] before:border-r-0 before:border-t-transparent before:border-b-transparent before:border-l-[#ebedf2] hover:text-primary/70 ltr:pl-3 ltr:pr-2 ltr:before:-right-[15px] rtl:pr-3 rtl:pl-2 rtl:before:-left-[15px] rtl:before:rotate-180 dark:before:border-l-[#1b2e4b] dark:hover:text-white-dark/70">
                {{'Service Request'|translate}}</a>
        </li>
        <li class="bg-[#ebedf2] ltr:rounded-l-md rtl:rounded-r-md dark:bg-[#1b2e4b]">
            <a href="javascript:;" (click)="wrokcardlist()"
                class="relative flex h-full items-center p-1.5 before:absolute before:inset-y-0 before:z-[1] before:m-auto before:h-0 before:w-0 before:border-[16px] before:border-l-[15px] before:border-r-0 before:border-t-transparent before:border-b-transparent before:border-l-[#ebedf2] hover:text-primary/70 ltr:pl-3 ltr:pr-2 ltr:before:-right-[15px] rtl:pr-3 rtl:pl-2 rtl:before:-left-[15px] rtl:before:rotate-180 dark:before:border-l-[#1b2e4b] dark:hover:text-white-dark/70">
                {{'Work card'|translate}}</a>
        </li>
        <li class="bg-[#ebedf2] dark:bg-[#1b2e4b]">
            <a
                class="relative flex h-full items-center bg-primary p-1.5 text-white-light before:absolute before:inset-y-0 before:z-[1] before:m-auto before:h-0 before:w-0 before:border-[16px] before:border-l-[15px] before:border-r-0 before:border-t-transparent before:border-b-transparent before:border-l-primary ltr:pl-6 ltr:pr-2 ltr:before:-right-[15px] rtl:pr-6 rtl:pl-2 rtl:before:-left-[15px] rtl:before:rotate-180">
                {{'Work card Details'|translate}}</a>
        </li>

    </ol>
</div>
<div *ngIf="loader==false">
    <div class="flex flex-col gap-2.5 xl:flex-row" *ngIf="request_details">
        <div class="panel flex-1 px-0 py-6 ltr:xl:mr-6 rtl:xl:ml-6">
            <div class="mt-8 px-4">
                <div>
                    <div class="mb-5 flex items-center justify-between">
                        <h5 class="text-lg font-semibold dark:text-white-light f_color">{{'Work card'|translate}}
                            {{'For'|translate}} <u>{{request_details.serm_number}}</u></h5>
                    </div>
                    <div class="mb-5">
                        <div class="space-y-2 font-semibold">
                            <div class="rounded border border-[#d3d3d3] dark:border-[#1b2e4b]">
                                <button type="button"
                                    class="flex w-full items-center p-4 text-white-dark dark:bg-[#1b2e4b]"
                                    [ngClass]="{ '!text-primary': accordians3 === 1 }"
                                    (click)="accordians3 === 1 ? (accordians3 = null) : (accordians3 = 1)">

                                    <svg width="24" height="24" class="h-5 w-5 shrink-0 text-primary ltr:mr-2 rtl:ml-2"
                                        viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="12" cy="6" r="4" stroke="#1C274C" stroke-width="1.5" />
                                        <path
                                            d="M15.5841 20.4366C14.5358 20.7944 13.3099 21 12 21C8.13401 21 5 19.2091 5 17C5 14.7909 8.13401 13 12 13C14.6083 13 16.8834 13.8152 18.0877 15.024"
                                            stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                        <path d="M18 18.5C18.3905 18.8905 18.6095 19.1095 19 19.5L21 17"
                                            stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"
                                            stroke-linejoin="round" />
                                    </svg>


                                    {{'Customer Details'|translate}}
                                    <div class="ltr:ml-auto rtl:mr-auto"
                                        [ngClass]="{ 'rotate-180': accordians3 === 1 }">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg" class="h-4 w-4">
                                            <path d="M19 9L12 15L5 9" stroke="currentColor" stroke-width="1.5"
                                                stroke-linecap="round" stroke-linejoin="round" />
                                        </svg>
                                    </div>
                                </button>
                                <div [@slideDownUp]="accordians3 !== 1" class="accordion-content">

                                    <app-work-card-view-customer-details
                                        [request_details]="request_details"></app-work-card-view-customer-details>
                                </div>
                            </div>

                            <div class="rounded border border-[#d3d3d3] dark:border-[#1b2e4b]">
                                <button type="button"
                                    class="flex w-full items-center p-4 text-white-dark dark:bg-[#1b2e4b]"
                                    [ngClass]="{ '!text-primary': accordians3 === 2 }"
                                    (click)="accordians3 === 2 ? (accordians3 = null) : (accordians3 = 2)">

                                    <svg width="24" height="24" class="h-5 w-5 shrink-0 text-primary ltr:mr-2 rtl:ml-2"
                                        viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M14 14.5C14 12.8431 15.3431 11.5 17 11.5C18.6568 11.5 20 12.8431 20 14.5C20 16.1569 18.6568 17.5 17 17.5C15.3431 17.5 14 16.1569 14 14.5Z"
                                            stroke="#1C274C" stroke-width="1.5" />
                                        <path
                                            d="M3.99998 9.5C3.99998 11.1569 5.34312 12.5 6.99998 12.5C8.65683 12.5 9.99998 11.1569 9.99998 9.5C9.99998 7.84315 8.65683 6.5 6.99998 6.5C5.34312 6.5 3.99998 7.84315 3.99998 9.5Z"
                                            stroke="#1C274C" stroke-width="1.5" />
                                        <path d="M16.9585 9L16.9585 2" stroke="#1C274C" stroke-width="1.5"
                                            stroke-linecap="round" />
                                        <path d="M6.9585 15L6.9585 22" stroke="#1C274C" stroke-width="1.5"
                                            stroke-linecap="round" />
                                        <path d="M16.9585 22L16.9585 20" stroke="#1C274C" stroke-width="1.5"
                                            stroke-linecap="round" />
                                        <path d="M6.9585 2L6.9585 4" stroke="#1C274C" stroke-width="1.5"
                                            stroke-linecap="round" />
                                    </svg>


                                    {{'Service Details'|translate}}
                                    <div class="ltr:ml-auto rtl:mr-auto"
                                        [ngClass]="{ 'rotate-180': accordians3 === 2 }">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg" class="h-4 w-4">
                                            <path d="M19 9L12 15L5 9" stroke="currentColor" stroke-width="1.5"
                                                stroke-linecap="round" stroke-linejoin="round" />
                                        </svg>
                                    </div>
                                </button>
                                <div [@slideDownUp]="accordians3 !== 2" class="accordion-content">
                                    <div class="border-t border-[#d3d3d3] p-4 text-[13px] dark:border-[#1b2e4b]">
                                        <div class="flex flex-col justify-between lg:flex-row">
                                            <div class="mb-6 w-full lg:w-1/2 ltr:lg:mr-6 rtl:lg:ml-6">
                                                <div class="text-lg font-semibold f_color" style="font-size: 25px;">
                                                    <u>{{'Service Details'|translate}}</u> :-
                                                </div>
                                            </div>
                                            <div class="w-full lg:w-1/2">
                                            </div>

                                        </div>
                                        <div class="mb-5 flex flex-col sm:flex-row">
                                            <div class="mx-10 mb-5 sm:mb-0" style="border-right: inset;
                                            padding: 1%;
                                        ">
                                                <div class="m-auto w-24 text-center font-semibold">
                                                    <a href="javascript:;"
                                                        class="block rounded-md p-3.5 py-2 !outline-none transition-all duration-300 hover:bg-info hover:text-white"
                                                        [ngClass]="{ '!bg-primary text-white': tab10.toLowerCase() === 's_details' }"
                                                        (click)="tab10 = 's_details'">
                                                        <span style="font-size: 73%; ">{{'Service
                                                            Details'|translate}}</span>

                                                    </a>
                                                    <br>
                                                    <a href="javascript:;"
                                                        class="block rounded-md p-3.5 py-2 !outline-none transition-all duration-300 hover:bg-info hover:text-white"
                                                        [ngClass]="{ '!bg-primary text-white': tab10.toLowerCase() === 'v_details' }"
                                                        (click)="tab10 = 'v_details'">
                                                        <span style="font-size: 74%; ">{{'Vehicle
                                                            Details'|translate}}</span>
                                                    </a>

                                                    <br> <a href="javascript:;"
                                                        class="block rounded-md p-3.5 py-2 !outline-none transition-all duration-300 hover:bg-info hover:text-white"
                                                        [ngClass]="{ '!bg-primary text-white': tab10.toLowerCase() === 'medias' }"
                                                        (click)="tab10 = 'medias'">
                                                        <span style="font-size: 74%; ">{{'Medias &
                                                            Attachments'|translate}}</span>


                                                    </a>
                                                    <br> <a href="javascript:;"
                                                        class="block rounded-md p-3.5 py-2 !outline-none transition-all duration-300 hover:bg-info hover:text-white"
                                                        [ngClass]="{ '!bg-primary text-white': tab10.toLowerCase() === 'chat' }"
                                                        (click)="tab10 = 'chat'">
                                                        <span style="font-size: 74%; ">{{'Chat
                                                            Details'|translate}}</span>


                                                    </a>
                                                </div>
                                            </div>
                                            <div class="flex-1 text-sm">
                                                <div *ngIf="tab10.toLowerCase() === 's_details'">
                                                    <div class="mb-6 w-full lg:w-1/2 ltr:lg:mr-6 rtl:lg:ml-6">
                                                        <div class="mt-4 flex items-center">

                                                            <span
                                                                class="mb-0 w-1/3 ltr:mr-2 rtl:ml-2 f_color">{{'WorkCard
                                                                Number'|translate}}</span>

                                                            <input id="reciever-number" type="text"
                                                                name="reciever-number" class="form-input flex-1"
                                                                [(ngModel)]="request_details.serm_number" readonly
                                                                name="serm_number"
                                                                style="color: red;background-color: #e2edf954;" />
                                                        </div>
                                                        <div class="mt-4 flex items-center">

                                                            <span
                                                                class="mb-0 w-1/3 ltr:mr-2 rtl:ml-2 f_color">{{'WorkCard
                                                                Created On'|translate}}</span>

                                                            <input id="reciever-number" type="text"
                                                                name="reciever-number" class="form-input flex-1"
                                                                [(ngModel)]="date" readonly name="phone" />
                                                        </div>

                                                        <div class="mt-4 flex items-center">
                                                            <span class="mb-0 w-1/3 ltr:mr-2 rtl:ml-2 f_color">{{'View
                                                                WorkCard Details'|translate}}</span>
                                                            <button type="button" class="btn btn-info"
                                                                (click)="workcard_details(request_details.serm_id)">{{'View
                                                                Full Details'|translate}}
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="tab10.toLowerCase() === 'v_details'">
                                                    <div class="flex flex-col justify-between lg:flex-row">
                                                        <div class="mb-6 w-full lg:w-1/2 ltr:lg:mr-6 rtl:lg:ml-6">
                                                            <div class="text-lg font-semibold f_color"
                                                                style="font-size: 25px;">
                                                                {{"Vehicle Details"|translate}}
                                                                <u></u> :-
                                                            </div>
                                                            <div class="mt-4 flex items-center">
                                                                <span
                                                                    class="mb-0 w-1/3 ltr:mr-2 rtl:ml-2 f_color">{{'Vehicle
                                                                    Brand'|translate}}</span>

                                                                <input id="acno" type="text" name="acno"
                                                                    class="form-input flex-1"
                                                                    [(ngModel)]="request_details.make_name" readonly
                                                                    name="no" />
                                                            </div>
                                                            <div class="mt-4 flex items-center">
                                                                <span
                                                                    class="mb-0 w-1/3 ltr:mr-2 rtl:ml-2 f_color">{{'Vehicle
                                                                    Model'|translate}}</span>

                                                                <input id="bank-name" type="text" name="bank-name"
                                                                    class="form-input flex-1"
                                                                    [(ngModel)]="request_details.model_name" readonly
                                                                    name="name" />
                                                            </div>
                                                            <div class="mt-4 flex items-center">
                                                                <span
                                                                    class="mb-0 w-1/3 ltr:mr-2 rtl:ml-2 f_color">{{'Vehicle
                                                                    Varient'|translate}}</span>

                                                                <input id="swift-code" type="text" name="swift-code"
                                                                    class="form-input flex-1"
                                                                    [(ngModel)]="request_details.variant_name" readonly
                                                                    name="swiftCode" />
                                                            </div>
                                                            <div class="mt-4 flex items-center">
                                                                <span
                                                                    class="mb-0 w-1/3 ltr:mr-2 rtl:ml-2 f_color">{{'Vehicle
                                                                    Vin Number'|translate}}</span>


                                                                <input id="swift-code" type="text" name="swift-code"
                                                                    class="form-input flex-1"
                                                                    [(ngModel)]="request_details.custveh_vinnumber"
                                                                    readonly name="swiftCode" />
                                                                <a (click)="copytext(request_details.custveh_vinnumber)"
                                                                    style=" cursor: pointer;">
                                                                    <svg width="18" height="18" ngxTippy="copy"
                                                                        viewBox="0 0 24 24" fill="none"
                                                                        xmlns="http://www.w3.org/2000/svg">
                                                                        <path
                                                                            d="M6 11C6 8.17157 6 6.75736 6.87868 5.87868C7.75736 5 9.17157 5 12 5H15C17.8284 5 19.2426 5 20.1213 5.87868C21 6.75736 21 8.17157 21 11V16C21 18.8284 21 20.2426 20.1213 21.1213C19.2426 22 17.8284 22 15 22H12C9.17157 22 7.75736 22 6.87868 21.1213C6 20.2426 6 18.8284 6 16V11Z"
                                                                            stroke="#09a4f0" stroke-width="1.5" />
                                                                        <path
                                                                            d="M6 19C4.34315 19 3 17.6569 3 16V10C3 6.22876 3 4.34315 4.17157 3.17157C5.34315 2 7.22876 2 11 2H15C16.6569 2 18 3.34315 18 5"
                                                                            stroke="#09a4f0" stroke-width="1.5" />
                                                                    </svg>
                                                                </a>


                                                            </div>
                                                        </div>
                                                        <div class="w-full lg:w-1/2">
                                                            <div class="text-lg font-semibold f_color"
                                                                style="font-size: 25px;">
                                                                <u> {{'Data Cards'|translate}} </u>:-
                                                            </div>
                                                            <div class="mt-4 flex items-center">
                                                                <ng-container *ngIf="datacard_len==0">
                                                                    <div
                                                                        class="flex items-center rounded bg-warning-light p-3.5 text-warning dark:bg-warning-dark-light">
                                                                        <span class="ltr:pr-2 rtl:pl-2"><strong
                                                                                class="ltr:mr-1 rtl:ml-1">{{'Warning'|translate}}!</strong>{{"DataCard
                                                                            Not Yet Provided By
                                                                            Technician"|translate}}!!</span>
                                                                        <!-- <button type="button" class="hover:opacity-80 ltr:ml-auto rtl:mr-auto">
                                                                        <svg
                                                                            xmlns="http://www.w3.org/2000/svg"
                                                                            width="24px"
                                                                            height="24px"
                                                                            viewBox="0 0 24 24"
                                                                            fill="none"
                                                                            stroke="currentColor"
                                                                            stroke-width="1.5"
                                                                            stroke-linecap="round"
                                                                            stroke-linejoin="round"
                                                                            class="h-5 w-5"
                                                                        >
                                                                            <line x1="18" y1="6" x2="6" y2="18"></line>
                                                                            <line x1="6" y1="6" x2="18" y2="18"></line>
                                                                        </svg>
                                                                    </button> -->
                                                                    </div>
                                                                </ng-container>
                                                                <ng-container *ngIf="datacard_len!=0">
                                                                    <div
                                                                        class="mt-10 grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3">
                                                                        <ng-container
                                                                            *ngFor="let item of usritems; index as i">
                                                                            <a href="javascript:;"
                                                                                [ngClass]="{ 'md:row-span-2 md:col-span-2': i == 4 }"
                                                                                (click)="opendatacard(i)">
                                                                                <img [src]="item.src"
                                                                                    alt="image-gallery"
                                                                                    class="h-full w-full rounded-md object-cover" />
                                                                            </a>
                                                                        </ng-container>
                                                                    </div>
                                                                </ng-container>




                                                            </div>


                                                        </div>
                                                    </div>
                                                </div>
                                                <div *ngIf="tab10.toLowerCase() === 'medias'">
                                                    <div class="flex flex-col justify-between lg:flex-row">
                                                        <div class="mb-6 w-full lg:w-1/2 ltr:lg:mr-6 rtl:lg:ml-6">
                                                            <div class="text-lg font-semibold f_color"
                                                                style="font-size: 25px;">
                                                                <u>{{"Attachments"|translate}}</u> :-
                                                            </div>
                                                            <div class="mt-4 flex items-center">
                                                                <div class="flex items-center justify-center">
                                                                    <button type="button" class="btn btn-info"
                                                                        (click)="imagemodal.open()">{{'View
                                                                        Attachments'|translate}}</button>
                                                                </div>
                                                                &nbsp;&nbsp;
                                                                <div class="flex items-center justify-center"
                                                                    *ngIf="(this.documents.length)>0">
                                                                    <button type="button" class="btn btn-warning"
                                                                        (click)="document_download()">
                                                                        <svg width="24" height="24" viewBox="0 0 24 24"
                                                                            fill="none"
                                                                            xmlns="http://www.w3.org/2000/svg">
                                                                            <path d="M12 8L12 16M12 16L15 13M12 16L9 13"
                                                                                stroke="#ffff" stroke-width="1.5"
                                                                                stroke-linecap="round"
                                                                                stroke-linejoin="round" />
                                                                            <path
                                                                                d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z"
                                                                                stroke="#ffff" stroke-width="1.5" />
                                                                        </svg>
                                                                        &nbsp;
                                                                        {{'Document'|translate}}
                                                                    </button>
                                                                </div>

                                                                <!-- Modal -->
                                                                <modal #imagemodal>
                                                                    <ng-template #modalHeader>
                                                                        <div>
                                                                            <p
                                                                                style="color:#267fac;font-family: calibiri;">
                                                                                {{'Medias'|translate}}
                                                                            </p>

                                                                        </div>
                                                                    </ng-template>
                                                                    <ng-template #modalBody>
                                                                        <div
                                                                            class="mt-10 grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3">
                                                                            <ng-container
                                                                                *ngFor="let item of items; index as i">
                                                                                <a href="javascript:;"
                                                                                    [ngClass]="{ 'md:row-span-2 md:col-span-2': i == 4 }"
                                                                                    (click)="open(i)">
                                                                                    <img [src]="item.src"
                                                                                        alt="image-gallery"
                                                                                        class="h-full w-full rounded-md object-cover" />
                                                                                </a>
                                                                            </ng-container>
                                                                        </div>
                                                                        <div *ngFor="let data of medias">
                                                                            <div class="mt-8 px-4"
                                                                                *ngIf="data.smedia_type==1">
                                                                                <div>
                                                                                    <label for="notes">{{'Audio if any
                                                                                        From
                                                                                        Customer'|translate}}</label>
                                                                                    <audio controls>
                                                                                        <source
                                                                                            src="{{baseurl+data.smedia_url}}" />
                                                                                    </audio>
                                                                                    <br><br>

                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ng-template>
                                                                    <ng-template #modalFooter>
                                                                        <button type="button"
                                                                            (click)="imagemodal.close()"
                                                                            class="btn btn-outline-danger">{{'Cancel'|translate}}</button>

                                                                    </ng-template>
                                                                </modal>
                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                                <div *ngIf="tab10.toLowerCase() === 'chat'">
                                                    <div class="relative flex h-full gap-5 sm:h-[calc(100vh_-_150px)] sm:min-h-0 custom-height"
                                                        [ngClass]="{ 'min-h-[999px]': isShowChatMenu }">
                                                        <div class="panel absolute z-10 hidden h-full w-full max-w-xs flex-none flex-col space-y-4 overflow-hidden p-4 xl:relative xl:flex"
                                                            [ngClass]="{'!flex !overflow-y-auto' : isShowChatMenu}">
                                                            <div class="flex items-center justify-between"></div>
                                                            <div class="relative">
                                                                <input type="text"
                                                                    class="peer form-input ltr:pr-9 rtl:pl-9"
                                                                    placeholder="{{'Search...'|translate}}"
                                                                    [(ngModel)]="searchUser" name="searchUser" />
                                                                <div
                                                                    class="absolute top-1/2 -translate-y-1/2 peer-focus:text-primary ltr:right-2 rtl:left-2">
                                                                    <svg width="16" height="16" viewBox="0 0 24 24"
                                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <circle cx="11.5" cy="11.5" r="9.5"
                                                                            stroke="currentColor" stroke-width="1.5"
                                                                            opacity="0.5">
                                                                        </circle>
                                                                        <path d="M18.5 18.5L22 22" stroke="currentColor"
                                                                            stroke-width="1.5" stroke-linecap="round">
                                                                        </path>
                                                                    </svg>
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="h-px w-full border-b border-[#e0e6ed] dark:border-[#1b2e4b]">
                                                            </div>
                                                            <div class="!mt-0 flex-grow">
                                                                <ng-scrollbar
                                                                    class="chat-users relative h-full min-h-[100px] space-y-0.5 ltr:-mr-3 rtl:-ml-3 sm:h-[calc(100vh_-_357px)]"
                                                                    appearance="compact">
                                                                    <ng-container
                                                                        *ngIf="contactList && contactList.length>0">
                                                                        <ng-container
                                                                            *ngFor="let customer of searchUsers()">
                                                                            <button type="button"
                                                                                class="flex w-full items-center justify-between rounded-md p-2 hover:bg-gray-100 hover:text-primary dark:hover:bg-[#050b14] dark:hover:text-primary"
                                                                                [ngClass]="{'bg-gray-100 dark:bg-[#050b14] dark:text-primary text-primary':''}"
                                                                                (click)="getUserId(customer)">
                                                                                <div class="flex-1">
                                                                                    <div class="flex items-center">
                                                                                        <div
                                                                                            class="relative flex-shrink-0">
                                                                                            <ng-container
                                                                                                *ngIf="customer.cstm_profile_photo">
                                                                                                <img [src]="baseurl + customer.cstm_profile_photo"
                                                                                                    class="h-12 w-12 rounded-full object-cover" />

                                                                                            </ng-container>
                                                                                            <ng-container
                                                                                                *ngIf="!customer.cstm_profile_photo">
                                                                                                <img src="assets/images/default_pro_pic.jpeg"
                                                                                                    class="h-12 w-12 rounded-full object-cover" />

                                                                                            </ng-container>
                                                                                            <!-- <ng-container *ngIf="person.active">
                                                                                            <div class="absolute bottom-0 ltr:right-0 rtl:left-0">
                                                                                                <div class="h-4 w-4 rounded-full bg-success"></div>
                                                                                            </div>
                                                                                        </ng-container> -->
                                                                                        </div>
                                                                                        <div
                                                                                            class="mx-3 ltr:text-left rtl:text-right">
                                                                                            <p
                                                                                                class="mb-1 font-semibold">
                                                                                                {{ customer.cstm_name }}
                                                                                            </p>
                                                                                            <p
                                                                                                class="max-w-[185px] truncate text-xs text-white-dark">
                                                                                                {{ customer.cstm_phone
                                                                                                }}</p>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <!-- <div class="whitespace-nowrap text-xs font-semibold">
                                                                                <p>{{ person.time }}</p>
                                                                            </div> -->
                                                                            </button>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="exp_contactList && exp_contactList.length>0">
                                                                        <ng-container
                                                                            *ngFor="let exp of searchUserrsexp()">
                                                                            <button type="button"
                                                                                class="flex w-full items-center justify-between rounded-md p-2 hover:bg-gray-100 hover:text-primary dark:hover:bg-[#050b14] dark:hover:text-primary"
                                                                                [ngClass]="{'bg-gray-100 dark:bg-[#050b14] dark:text-primary text-primary':''}"
                                                                                (click)="fetch_chat_hit()">
                                                                                <div class="flex-1">
                                                                                    <div class="flex items-center">
                                                                                        <div
                                                                                            class="relative flex-shrink-0">
                                                                                            <ng-container
                                                                                                *ngIf="exp.cstm_profile_photo">
                                                                                                <img [src]="baseurl + exp.cstm_profile_photo"
                                                                                                    class="h-12 w-12 rounded-full object-cover" />

                                                                                            </ng-container>
                                                                                            <ng-container
                                                                                                *ngIf="!exp.cstm_profile_photo">
                                                                                                <img src="assets/images/default_pro_pic.jpeg"
                                                                                                    class="h-12 w-12 rounded-full object-cover" />

                                                                                            </ng-container>
                                                                                            <!-- <ng-container *ngIf="person.active">
                                                                                            <div class="absolute bottom-0 ltr:right-0 rtl:left-0">
                                                                                                <div class="h-4 w-4 rounded-full bg-success"></div>
                                                                                            </div>
                                                                                        </ng-container> -->
                                                                                        </div>
                                                                                        <div
                                                                                            class="mx-3 ltr:text-left rtl:text-right">
                                                                                            <p
                                                                                                class="mb-1 font-semibold">
                                                                                                {{ exp.cstm_name }}</p>
                                                                                            <p
                                                                                                class="max-w-[185px] truncate text-xs text-white-dark">
                                                                                                {{ exp.cstm_phone
                                                                                                }}</p>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <!-- <div class="whitespace-nowrap text-xs font-semibold">
                                                                                <p>{{ person.time }}</p>
                                                                            </div> -->
                                                                            </button>
                                                                        </ng-container>
                                                                    </ng-container>
                                                                </ng-scrollbar>
                                                            </div>
                                                        </div>
                                                        <div class="absolute z-[5] hidden h-full w-full rounded-md bg-black/60"
                                                            [ngClass]="{'!block xl:!hidden' : isShowChatMenu}"
                                                            (click)="isShowChatMenu = !isShowChatMenu"></div>
                                                        <div class="panel flex-1 p-0">
                                                            <ng-container *ngIf="!isShowUserChat">
                                                                <div
                                                                    class="relative flex h-full items-center justify-center p-4">
                                                                    <button type="button"
                                                                        class="absolute top-4 hover:text-primary ltr:left-4 rtl:right-4 xl:hidden"
                                                                        (click)="isShowChatMenu = !isShowChatMenu">
                                                                        <svg width="24" height="24" viewBox="0 0 24 24"
                                                                            fill="none"
                                                                            xmlns="http://www.w3.org/2000/svg"
                                                                            class="h-6 w-6">
                                                                            <path d="M20 7L4 7" stroke="currentColor"
                                                                                stroke-width="1.5"
                                                                                stroke-linecap="round" />
                                                                            <path opacity="0.5" d="M20 12L4 12"
                                                                                stroke="currentColor" stroke-width="1.5"
                                                                                stroke-linecap="round" />
                                                                            <path d="M20 17L4 17" stroke="currentColor"
                                                                                stroke-width="1.5"
                                                                                stroke-linecap="round" />
                                                                        </svg>
                                                                    </button>

                                                                    <div
                                                                        class="flex flex-col items-center justify-center py-8">
                                                                        <div
                                                                            class="mb-8 h-[calc(100vh_-_320px)] min-h-[120px] w-[280px] text-white dark:text-[#0e1726] md:w-[430px]">
                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                data-name="Layer 1"
                                                                                class="h-full w-full"
                                                                                viewBox="0 0 891.29496 745.19434"
                                                                                xmlns:xlink="http://www.w3.org/1999/xlink">
                                                                                <ellipse cx="418.64354" cy="727.19434"
                                                                                    rx="352" ry="18"
                                                                                    class="fill-[#e6e6e6] dark:fill-[#888ea8]" />
                                                                                <path
                                                                                    d="M778.64963,250.35008h-3.99878V140.80476a63.40187,63.40187,0,0,0-63.4018-63.40193H479.16232a63.40188,63.40188,0,0,0-63.402,63.4017v600.9744a63.40189,63.40189,0,0,0,63.4018,63.40192H711.24875a63.40187,63.40187,0,0,0,63.402-63.40168V328.32632h3.99878Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#3f3d56" />
                                                                                <path
                                                                                    d="M761.156,141.24713v600.09a47.35072,47.35072,0,0,1-47.35,47.35h-233.2a47.35084,47.35084,0,0,1-47.35-47.35v-600.09a47.3509,47.3509,0,0,1,47.35-47.35h28.29a22.50659,22.50659,0,0,0,20.83,30.99h132.96a22.50672,22.50672,0,0,0,20.83-30.99h30.29A47.35088,47.35088,0,0,1,761.156,141.24713Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="currentColor" />
                                                                                <path
                                                                                    d="M686.03027,400.0032q-2.32543,1.215-4.73047,2.3-2.18994.99-4.4497,1.86c-.5503.21-1.10987.42-1.66992.63a89.52811,89.52811,0,0,1-13.6001,3.75q-3.43506.675-6.96,1.06-2.90991.33-5.87989.47c-1.41015.07-2.82031.1-4.24023.1a89.84124,89.84124,0,0,1-16.75977-1.57c-1.44043-.26-2.85009-.57-4.26025-.91a88.77786,88.77786,0,0,1-19.66992-7.26c-.56006-.28-1.12012-.58-1.68018-.87-.83008-.44-1.63965-.9-2.4497-1.38.38964-.54.81005-1.07,1.23974-1.59a53.03414,53.03414,0,0,1,78.87012-4.1,54.27663,54.27663,0,0,1,5.06006,5.86C685.25977,398.89316,685.6499,399.44321,686.03027,400.0032Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#6c63ff" />
                                                                                <circle cx="492.14325" cy="234.76352"
                                                                                    r="43.90974" fill="#2f2e41" />
                                                                                <circle cx="642.49883" cy="327.46205"
                                                                                    r="32.68086"
                                                                                    transform="translate(-232.6876 270.90663) rotate(-28.66315)"
                                                                                    fill="#a0616a" />
                                                                                <path
                                                                                    d="M676.8388,306.90589a44.44844,44.44844,0,0,1-25.402,7.85033,27.23846,27.23846,0,0,0,10.796,4.44154,89.62764,89.62764,0,0,1-36.61.20571,23.69448,23.69448,0,0,1-7.66395-2.63224,9.699,9.699,0,0,1-4.73055-6.3266c-.80322-4.58859,2.77227-8.75743,6.488-11.567a47.85811,47.85811,0,0,1,40.21662-8.03639c4.49246,1.16124,8.99288,3.12327,11.91085,6.731s3.78232,9.16981,1.00224,12.88488Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#2f2e41" />
                                                                                <path
                                                                                    d="M644.5,230.17319a89.98675,89.98675,0,0,0-46.83984,166.83l.58007.34q.72.43506,1.43995.84c.81005.48,1.61962.94,2.4497,1.38.56006.29,1.12012.59,1.68018.87a88.77786,88.77786,0,0,0,19.66992,7.26c1.41016.34,2.81982.65,4.26025.91a89.84124,89.84124,0,0,0,16.75977,1.57c1.41992,0,2.83008-.03,4.24023-.1q2.97-.135,5.87989-.47,3.52513-.39,6.96-1.06a89.52811,89.52811,0,0,0,13.6001-3.75c.56005-.21,1.11962-.42,1.66992-.63q2.26464-.87,4.4497-1.86,2.40015-1.08,4.73047-2.3a90.7919,90.7919,0,0,0,37.03955-35.97c.04-.07995.09034-.16.13038-.24a89.30592,89.30592,0,0,0,9.6499-26.41,90.051,90.051,0,0,0-88.3501-107.21Zm77.06006,132.45c-.08008.14-.1499.28-.23.41a88.17195,88.17195,0,0,1-36.48,35.32q-2.29542,1.2-4.66992,2.25c-1.31006.59-2.64991,1.15-4,1.67-.57032.22-1.14991.44-1.73.64a85.72126,85.72126,0,0,1-11.73,3.36,84.69473,84.69473,0,0,1-8.95019,1.41c-1.8501.2-3.73.34-5.62012.41-1.21.05-2.42969.08-3.6499.08a86.762,86.762,0,0,1-16.21973-1.51,85.62478,85.62478,0,0,1-9.63037-2.36,88.46592,88.46592,0,0,1-13.98974-5.67c-.52-.27-1.04-.54-1.5503-.82-.73-.39-1.46972-.79-2.18994-1.22-.54-.3-1.08008-.62-1.60986-.94-.31006-.18-.62012-.37-.93018-.56a88.06851,88.06851,0,1,1,123.18018-32.47Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#3f3d56" />
                                                                                <path
                                                                                    d="M624.2595,268.86254c-.47244-4.968-6.55849-8.02647-11.3179-6.52583s-7.88411,6.2929-8.82863,11.19308a16.0571,16.0571,0,0,0,2.16528,12.12236c2.40572,3.46228,6.82664,5.623,10.95,4.74406,4.70707-1.00334,7.96817-5.59956,8.90127-10.32105s.00667-9.58929-.91854-14.31234Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#2f2e41" />
                                                                                <path
                                                                                    d="M691.24187,275.95964c-.47245-4.968-6.5585-8.02646-11.3179-6.52582s-7.88412,6.29289-8.82864,11.19307a16.05711,16.05711,0,0,0,2.16529,12.12236c2.40571,3.46228,6.82663,5.623,10.95,4.74406,4.70707-1.00334,7.96817-5.59955,8.90127-10.32105s.00667-9.58929-.91853-14.31234Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#2f2e41" />
                                                                                <path
                                                                                    d="M488.93638,356.14169a4.47525,4.47525,0,0,1-3.30664-1.46436L436.00767,300.544a6.02039,6.02039,0,0,0-4.42627-1.94727H169.3618a15.02615,15.02615,0,0,1-15.00928-15.00927V189.025a15.02615,15.02615,0,0,1,15.00928-15.00928H509.087A15.02615,15.02615,0,0,1,524.0963,189.025v94.5625A15.02615,15.02615,0,0,1,509.087,298.59676h-9.63135a6.01157,6.01157,0,0,0-6.00464,6.00489v47.0332a4.474,4.474,0,0,1-2.87011,4.1958A4.52563,4.52563,0,0,1,488.93638,356.14169Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="currentColor" />
                                                                                <path
                                                                                    d="M488.93638,356.14169a4.47525,4.47525,0,0,1-3.30664-1.46436L436.00767,300.544a6.02039,6.02039,0,0,0-4.42627-1.94727H169.3618a15.02615,15.02615,0,0,1-15.00928-15.00927V189.025a15.02615,15.02615,0,0,1,15.00928-15.00928H509.087A15.02615,15.02615,0,0,1,524.0963,189.025v94.5625A15.02615,15.02615,0,0,1,509.087,298.59676h-9.63135a6.01157,6.01157,0,0,0-6.00464,6.00489v47.0332a4.474,4.474,0,0,1-2.87011,4.1958A4.52563,4.52563,0,0,1,488.93638,356.14169ZM169.3618,176.01571A13.024,13.024,0,0,0,156.35252,189.025v94.5625a13.024,13.024,0,0,0,13.00928,13.00927H431.5814a8.02436,8.02436,0,0,1,5.90039,2.59571l49.62208,54.1333a2.50253,2.50253,0,0,0,4.34716-1.69092v-47.0332a8.0137,8.0137,0,0,1,8.00464-8.00489H509.087a13.024,13.024,0,0,0,13.00928-13.00927V189.025A13.024,13.024,0,0,0,509.087,176.01571Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#3f3d56" />
                                                                                <circle cx="36.81601" cy="125.19345"
                                                                                    r="13.13371" fill="#6c63ff" />
                                                                                <path
                                                                                    d="M493.76439,275.26947H184.68447a7.00465,7.00465,0,1,1,0-14.00929H493.76439a7.00465,7.00465,0,0,1,0,14.00929Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    class="fill-[#e6e6e6] dark:fill-[#888ea8]" />
                                                                                <path
                                                                                    d="M393.07263,245.49973H184.68447a7.00465,7.00465,0,1,1,0-14.00929H393.07263a7.00464,7.00464,0,0,1,0,14.00929Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    class="fill-[#e6e6e6] dark:fill-[#888ea8]" />
                                                                                <path
                                                                                    d="M709.41908,676.83065a4.474,4.474,0,0,1-2.87011-4.1958v-47.0332a6.01157,6.01157,0,0,0-6.00464-6.00489H690.913a15.02615,15.02615,0,0,1-15.00928-15.00927V510.025A15.02615,15.02615,0,0,1,690.913,495.01571H1030.6382a15.02615,15.02615,0,0,1,15.00928,15.00928v94.5625a15.02615,15.02615,0,0,1-15.00928,15.00927H768.4186a6.02039,6.02039,0,0,0-4.42627,1.94727l-49.62207,54.1333a4.47525,4.47525,0,0,1-3.30664,1.46436A4.52563,4.52563,0,0,1,709.41908,676.83065Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="currentColor" />
                                                                                <path
                                                                                    d="M709.41908,676.83065a4.474,4.474,0,0,1-2.87011-4.1958v-47.0332a6.01157,6.01157,0,0,0-6.00464-6.00489H690.913a15.02615,15.02615,0,0,1-15.00928-15.00927V510.025A15.02615,15.02615,0,0,1,690.913,495.01571H1030.6382a15.02615,15.02615,0,0,1,15.00928,15.00928v94.5625a15.02615,15.02615,0,0,1-15.00928,15.00927H768.4186a6.02039,6.02039,0,0,0-4.42627,1.94727l-49.62207,54.1333a4.47525,4.47525,0,0,1-3.30664,1.46436A4.52563,4.52563,0,0,1,709.41908,676.83065ZM690.913,497.01571A13.024,13.024,0,0,0,677.9037,510.025v94.5625A13.024,13.024,0,0,0,690.913,617.59676h9.63135a8.0137,8.0137,0,0,1,8.00464,8.00489v47.0332a2.50253,2.50253,0,0,0,4.34716,1.69092l49.62208-54.1333a8.02436,8.02436,0,0,1,5.90039-2.59571h262.2196a13.024,13.024,0,0,0,13.00928-13.00927V510.025a13.024,13.024,0,0,0-13.00928-13.00928Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#3f3d56" />
                                                                                <path
                                                                                    d="M603.53027,706.11319a89.06853,89.06853,0,0,1-93.65039,1.49,54.12885,54.12885,0,0,1,9.40039-12.65,53.43288,53.43288,0,0,1,83.90967,10.56994C603.2998,705.71316,603.41992,705.91318,603.53027,706.11319Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#6c63ff" />
                                                                                <circle cx="398.44256" cy="536.68841"
                                                                                    r="44.20157" fill="#2f2e41" />
                                                                                <circle cx="556.81859" cy="629.4886"
                                                                                    r="32.89806"
                                                                                    transform="translate(-416.96496 738.72884) rotate(-61.33685)"
                                                                                    fill="#ffb8b8" />
                                                                                <path
                                                                                    d="M522.25039,608.79582a44.74387,44.74387,0,0,0,25.57085,7.9025,27.41946,27.41946,0,0,1-10.8677,4.47107,90.22316,90.22316,0,0,0,36.85334.20707,23.852,23.852,0,0,0,7.71488-2.64973,9.76352,9.76352,0,0,0,4.762-6.36865c.80855-4.61909-2.7907-8.81563-6.53113-11.64387a48.17616,48.17616,0,0,0-40.4839-8.08981c-4.52231,1.169-9.05265,3.144-11.99,6.77579s-3.80746,9.23076-1.0089,12.97052Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#2f2e41" />
                                                                                <path
                                                                                    d="M555.5,721.17319a89.97205,89.97205,0,1,1,48.5708-14.21875A89.87958,89.87958,0,0,1,555.5,721.17319Zm0-178a88.00832,88.00832,0,1,0,88,88A88.09957,88.09957,0,0,0,555.5,543.17319Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    fill="#3f3d56" />
                                                                                <circle cx="563.81601" cy="445.19345"
                                                                                    r="13.13371" fill="#6c63ff" />
                                                                                <path
                                                                                    d="M1020.76439,595.26947H711.68447a7.00465,7.00465,0,1,1,0-14.00929h309.07992a7.00464,7.00464,0,0,1,0,14.00929Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    class="fill-[#e6e6e6] dark:fill-[#888ea8]" />
                                                                                <path
                                                                                    d="M920.07263,565.49973H711.68447a7.00465,7.00465,0,1,1,0-14.00929H920.07263a7.00465,7.00465,0,0,1,0,14.00929Z"
                                                                                    transform="translate(-154.35252 -77.40283)"
                                                                                    class="fill-[#e6e6e6] dark:fill-[#888ea8]" />
                                                                                <ellipse cx="554.64354" cy="605.66091"
                                                                                    rx="24.50394" ry="2.71961"
                                                                                    class="fill-[#e6e6e6] dark:fill-[#888ea8]" />
                                                                                <ellipse cx="335.64354" cy="285.66091"
                                                                                    rx="24.50394" ry="2.71961"
                                                                                    class="fill-[#e6e6e6] dark:fill-[#888ea8]" />
                                                                            </svg>
                                                                        </div>
                                                                        <p
                                                                            class="mx-auto flex max-w-[190px] justify-center rounded-md bg-white-dark/20 p-2 font-semibold">
                                                                            <svg width="24" height="24"
                                                                                viewBox="0 0 24 24" fill="none"
                                                                                xmlns="http://www.w3.org/2000/svg"
                                                                                class="h-5 w-5 ltr:mr-2 rtl:ml-2">
                                                                                <path
                                                                                    d="M13.0867 21.3877L13.7321 21.7697L13.0867 21.3877ZM13.6288 20.4718L12.9833 20.0898L13.6288 20.4718ZM10.3712 20.4718L9.72579 20.8539H9.72579L10.3712 20.4718ZM10.9133 21.3877L11.5587 21.0057L10.9133 21.3877ZM2.3806 15.9134L3.07351 15.6264V15.6264L2.3806 15.9134ZM7.78958 18.9915L7.77666 19.7413L7.78958 18.9915ZM5.08658 18.6194L4.79957 19.3123H4.79957L5.08658 18.6194ZM21.6194 15.9134L22.3123 16.2004V16.2004L21.6194 15.9134ZM16.2104 18.9915L16.1975 18.2416L16.2104 18.9915ZM18.9134 18.6194L19.2004 19.3123H19.2004L18.9134 18.6194ZM19.6125 2.7368L19.2206 3.37628L19.6125 2.7368ZM21.2632 4.38751L21.9027 3.99563V3.99563L21.2632 4.38751ZM4.38751 2.7368L3.99563 2.09732V2.09732L4.38751 2.7368ZM2.7368 4.38751L2.09732 3.99563H2.09732L2.7368 4.38751ZM9.40279 19.2098L9.77986 18.5615L9.77986 18.5615L9.40279 19.2098ZM13.7321 21.7697L14.2742 20.8539L12.9833 20.0898L12.4412 21.0057L13.7321 21.7697ZM9.72579 20.8539L10.2679 21.7697L11.5587 21.0057L11.0166 20.0898L9.72579 20.8539ZM12.4412 21.0057C12.2485 21.3313 11.7515 21.3313 11.5587 21.0057L10.2679 21.7697C11.0415 23.0767 12.9585 23.0767 13.7321 21.7697L12.4412 21.0057ZM10.5 2.75H13.5V1.25H10.5V2.75ZM21.25 10.5V11.5H22.75V10.5H21.25ZM2.75 11.5V10.5H1.25V11.5H2.75ZM1.25 11.5C1.25 12.6546 1.24959 13.5581 1.29931 14.2868C1.3495 15.0223 1.45323 15.6344 1.68769 16.2004L3.07351 15.6264C2.92737 15.2736 2.84081 14.8438 2.79584 14.1847C2.75041 13.5189 2.75 12.6751 2.75 11.5H1.25ZM7.8025 18.2416C6.54706 18.2199 5.88923 18.1401 5.37359 17.9265L4.79957 19.3123C5.60454 19.6457 6.52138 19.7197 7.77666 19.7413L7.8025 18.2416ZM1.68769 16.2004C2.27128 17.6093 3.39066 18.7287 4.79957 19.3123L5.3736 17.9265C4.33223 17.4951 3.50486 16.6678 3.07351 15.6264L1.68769 16.2004ZM21.25 11.5C21.25 12.6751 21.2496 13.5189 21.2042 14.1847C21.1592 14.8438 21.0726 15.2736 20.9265 15.6264L22.3123 16.2004C22.5468 15.6344 22.6505 15.0223 22.7007 14.2868C22.7504 13.5581 22.75 12.6546 22.75 11.5H21.25ZM16.2233 19.7413C17.4786 19.7197 18.3955 19.6457 19.2004 19.3123L18.6264 17.9265C18.1108 18.1401 17.4529 18.2199 16.1975 18.2416L16.2233 19.7413ZM20.9265 15.6264C20.4951 16.6678 19.6678 17.4951 18.6264 17.9265L19.2004 19.3123C20.6093 18.7287 21.7287 17.6093 22.3123 16.2004L20.9265 15.6264ZM13.5 2.75C15.1512 2.75 16.337 2.75079 17.2619 2.83873C18.1757 2.92561 18.7571 3.09223 19.2206 3.37628L20.0044 2.09732C19.2655 1.64457 18.4274 1.44279 17.4039 1.34547C16.3915 1.24921 15.1222 1.25 13.5 1.25V2.75ZM22.75 10.5C22.75 8.87781 22.7508 7.6085 22.6545 6.59611C22.5572 5.57256 22.3554 4.73445 21.9027 3.99563L20.6237 4.77938C20.9078 5.24291 21.0744 5.82434 21.1613 6.73809C21.2492 7.663 21.25 8.84876 21.25 10.5H22.75ZM19.2206 3.37628C19.7925 3.72672 20.2733 4.20752 20.6237 4.77938L21.9027 3.99563C21.4286 3.22194 20.7781 2.57144 20.0044 2.09732L19.2206 3.37628ZM10.5 1.25C8.87781 1.25 7.6085 1.24921 6.59611 1.34547C5.57256 1.44279 4.73445 1.64457 3.99563 2.09732L4.77938 3.37628C5.24291 3.09223 5.82434 2.92561 6.73809 2.83873C7.663 2.75079 8.84876 2.75 10.5 2.75V1.25ZM2.75 10.5C2.75 8.84876 2.75079 7.663 2.83873 6.73809C2.92561 5.82434 3.09223 5.24291 3.37628 4.77938L2.09732 3.99563C1.64457 4.73445 1.44279 5.57256 1.34547 6.59611C1.24921 7.6085 1.25 8.87781 1.25 10.5H2.75ZM3.99563 2.09732C3.22194 2.57144 2.57144 3.22194 2.09732 3.99563L3.37628 4.77938C3.72672 4.20752 4.20752 3.72672 4.77938 3.37628L3.99563 2.09732ZM11.0166 20.0898C10.8136 19.7468 10.6354 19.4441 10.4621 19.2063C10.2795 18.9559 10.0702 18.7304 9.77986 18.5615L9.02572 19.8582C9.07313 19.8857 9.13772 19.936 9.24985 20.0898C9.37122 20.2564 9.50835 20.4865 9.72579 20.8539L11.0166 20.0898ZM7.77666 19.7413C8.21575 19.7489 8.49387 19.7545 8.70588 19.7779C8.90399 19.7999 8.98078 19.832 9.02572 19.8582L9.77986 18.5615C9.4871 18.3912 9.18246 18.3215 8.87097 18.287C8.57339 18.2541 8.21375 18.2487 7.8025 18.2416L7.77666 19.7413ZM14.2742 20.8539C14.4916 20.4865 14.6287 20.2564 14.7501 20.0898C14.8622 19.936 14.9268 19.8857 14.9742 19.8582L14.2201 18.5615C13.9298 18.7304 13.7204 18.9559 13.5379 19.2063C13.3646 19.4441 13.1864 19.7468 12.9833 20.0898L14.2742 20.8539ZM16.1975 18.2416C15.7862 18.2487 15.4266 18.2541 15.129 18.287C14.8175 18.3215 14.5129 18.3912 14.2201 18.5615L14.9742 19.8582C15.0192 19.832 15.096 19.7999 15.2941 19.7779C15.5061 19.7545 15.7842 19.7489 16.2233 19.7413L16.1975 18.2416Z"
                                                                                    fill="currentColor" />
                                                                            </svg>

                                                                            {{'Click User To Chat'|translate}}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </ng-container>
                                                            <ng-container>
                                                                <ng-container *ngIf="isShowUserChat && selectedUser">
                                                                    <div class="relative h-full pb-[68px]">
                                                                        <div
                                                                            class="flex items-center justify-between p-4">
                                                                            <div
                                                                                class="flex items-center space-x-2 rtl:space-x-reverse">
                                                                                <button type="button"
                                                                                    class="hover:text-primary xl:hidden"
                                                                                    (click)="isShowChatMenu = !isShowChatMenu">
                                                                                    <svg width="24" height="24"
                                                                                        viewBox="0 0 24 24" fill="none"
                                                                                        xmlns="http://www.w3.org/2000/svg"
                                                                                        class="h-6 w-6">
                                                                                        <path d="M20 7L4 7"
                                                                                            stroke="currentColor"
                                                                                            stroke-width="1.5"
                                                                                            stroke-linecap="round" />
                                                                                        <path opacity="0.5"
                                                                                            d="M20 12L4 12"
                                                                                            stroke="currentColor"
                                                                                            stroke-width="1.5"
                                                                                            stroke-linecap="round" />
                                                                                        <path d="M20 17L4 17"
                                                                                            stroke="currentColor"
                                                                                            stroke-width="1.5"
                                                                                            stroke-linecap="round" />
                                                                                    </svg>
                                                                                </button>
                                                                                <div class="relative flex-none">
                                                                                    <img [src]="baseurl + selectedUser.cstm_profile_photo"
                                                                                        class="h-10 w-10 rounded-full object-cover sm:h-12 sm:w-12" />
                                                                                    <div
                                                                                        class="absolute bottom-0 ltr:right-0 rtl:left-0">
                                                                                        <div
                                                                                            class="h-4 w-4 rounded-full bg-success">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="mx-3">
                                                                                    <p class="font-semibold">{{
                                                                                        selectedUser.cstm_name }}</p>
                                                                                    <!-- <p class="text-xs text-white-dark">{{ selectedUser.active ? 'Active now' : 'Last seen at ' + selectedUser.time }}</p> -->
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                        <div
                                                                            class="h-px w-full border-b border-[#e0e6ed] dark:border-[#1b2e4b]">
                                                                        </div>
                                                                        <ng-scrollbar #scrollable
                                                                            class="ch_bg_img chat-conversation-box relative sm:!h-[calc(100vh_-_300px)] !h-[calc(100vh_-_289px)] min-h-[300px]"
                                                                            visibility="native">
                                                                            <div class=" space-y-5 p-4 ">
                                                                                <div class="m-6 mt-0 block">
                                                                                    <!-- <h4 class="relative border-b border-[#f4f4f4] text-center text-xs dark:border-gray-800">
                                                                                    <span class="relative top-2 bg-white px-3 dark:bg-[#0e1726]">{{ 'Today, ' + selectedUser.time }}</span>
                                                                                </h4> -->
                                                                                </div>
                                                                                <ng-container
                                                                                    *ngIf="chat_loading==true">
                                                                                    <div class="c_loader"></div>
                                                                                </ng-container>
                                                                                <ng-container
                                                                                    *ngIf="chat_loading==false">
                                                                                    <ng-container>
                                                                                        <ng-container
                                                                                            *ngIf="messages && messages.length">
                                                                                            <div
                                                                                                *ngFor="let message of messages">
                                                                                                <div class="flex items-start gap-3"
                                                                                                    *ngIf="message.sc_us_type == 1"
                                                                                                    [ngClass]="{ 'justify-start': message.sc_us_type ==1 }">


                                                                                                    <div
                                                                                                        class="space-y-2">
                                                                                                        <div
                                                                                                            class="flex items-center gap-3">
                                                                                                            <div class="rounded-md bg-black/10 p-4 py-2 dark:bg-gray-800"
                                                                                                                *ngIf="message.sc_message_type==0"
                                                                                                                [ngClass]=" 'ltr:rounded-br-none rtl:rounded-bl-none !bg-gray text-black'
                                                                                                                       
                                                                                                                ">


                                                                                                                <ng-container
                                                                                                                    *ngIf="message.sc_message_type==0">
                                                                                                                    {{
                                                                                                                    message.sc_message
                                                                                                                    }}
                                                                                                                </ng-container>
                                                                                                            </div>
                                                                                                            <div
                                                                                                                *ngIf="message.sc_message_type!=0">
                                                                                                                <ng-container
                                                                                                                    *ngIf="message.sc_message_type==1">

                                                                                                                    <audio
                                                                                                                        controls>
                                                                                                                        <source
                                                                                                                            src="{{baseurl}}{{ message.sc_message }}">

                                                                                                                    </audio>

                                                                                                                </ng-container>
                                                                                                                <ng-container
                                                                                                                    *ngIf="message.sc_message_type==2">

                                                                                                                    <img class="fixed-size"
                                                                                                                        src="{{ baseurl }}{{ message.sc_message }}"
                                                                                                                        alt="image loading"
                                                                                                                        (click)="openLightbox(message)">
                                                                                                                </ng-container>
                                                                                                                <ng-container
                                                                                                                    *ngIf="message.sc_message_type==3">
                                                                                                                    <video
                                                                                                                        controls
                                                                                                                        preload="none">
                                                                                                                        <source
                                                                                                                            src="{{baseurl}}{{ message.sc_message }}"
                                                                                                                            type="video/mp4">
                                                                                                                    </video>
                                                                                                                </ng-container>

                                                                                                                <ng-container
                                                                                                                    *ngIf="message.sc_message_type==4">

                                                                                                                    <button
                                                                                                                        (click)="c_document_download(message.sc_message)"
                                                                                                                        type="button"
                                                                                                                        class="group relative mb-4 flex items-center rounded-md border border-[#e0e6ed] px-4 py-2.5 transition-all duration-300 hover:border-primary hover:text-primary ltr:mr-4 rtl:ml-4 dark:border-[#1b2e4b]">

                                                                                                                        <ng-container>
                                                                                                                            <svg width="24"
                                                                                                                                height="24"
                                                                                                                                viewBox="0 0 24 24"
                                                                                                                                fill="none"
                                                                                                                                xmlns="http://www.w3.org/2000/svg"
                                                                                                                                class="h-5 w-5">
                                                                                                                                <path
                                                                                                                                    d="M15.3929 4.05365L14.8912 4.61112L15.3929 4.05365ZM19.3517 7.61654L18.85 8.17402L19.3517 7.61654ZM21.654 10.1541L20.9689 10.4592V10.4592L21.654 10.1541ZM3.17157 20.8284L3.7019 20.2981H3.7019L3.17157 20.8284ZM20.8284 20.8284L20.2981 20.2981L20.2981 20.2981L20.8284 20.8284ZM14 21.25H10V22.75H14V21.25ZM2.75 14V10H1.25V14H2.75ZM21.25 13.5629V14H22.75V13.5629H21.25ZM14.8912 4.61112L18.85 8.17402L19.8534 7.05907L15.8947 3.49618L14.8912 4.61112ZM22.75 13.5629C22.75 11.8745 22.7651 10.8055 22.3391 9.84897L20.9689 10.4592C21.2349 11.0565 21.25 11.742 21.25 13.5629H22.75ZM18.85 8.17402C20.2034 9.3921 20.7029 9.86199 20.9689 10.4592L22.3391 9.84897C21.9131 8.89241 21.1084 8.18853 19.8534 7.05907L18.85 8.17402ZM10.0298 2.75C11.6116 2.75 12.2085 2.76158 12.7405 2.96573L13.2779 1.5653C12.4261 1.23842 11.498 1.25 10.0298 1.25V2.75ZM15.8947 3.49618C14.8087 2.51878 14.1297 1.89214 13.2779 1.5653L12.7405 2.96573C13.2727 3.16993 13.7215 3.55836 14.8912 4.61112L15.8947 3.49618ZM10 21.25C8.09318 21.25 6.73851 21.2484 5.71085 21.1102C4.70476 20.975 4.12511 20.7213 3.7019 20.2981L2.64124 21.3588C3.38961 22.1071 4.33855 22.4392 5.51098 22.5969C6.66182 22.7516 8.13558 22.75 10 22.75V21.25ZM1.25 14C1.25 15.8644 1.24841 17.3382 1.40313 18.489C1.56076 19.6614 1.89288 20.6104 2.64124 21.3588L3.7019 20.2981C3.27869 19.8749 3.02502 19.2952 2.88976 18.2892C2.75159 17.2615 2.75 15.9068 2.75 14H1.25ZM14 22.75C15.8644 22.75 17.3382 22.7516 18.489 22.5969C19.6614 22.4392 20.6104 22.1071 21.3588 21.3588L20.2981 20.2981C19.8749 20.7213 19.2952 20.975 18.2892 21.1102C17.2615 21.2484 15.9068 21.25 14 21.25V22.75ZM21.25 14C21.25 15.9068 21.2484 17.2615 21.1102 18.2892C20.975 19.2952 20.7213 19.8749 20.2981 20.2981L21.3588 21.3588C22.1071 20.6104 22.4392 19.6614 22.5969 18.489C22.7516 17.3382 22.75 15.8644 22.75 14H21.25ZM2.75 10C2.75 8.09318 2.75159 6.73851 2.88976 5.71085C3.02502 4.70476 3.27869 4.12511 3.7019 3.7019L2.64124 2.64124C1.89288 3.38961 1.56076 4.33855 1.40313 5.51098C1.24841 6.66182 1.25 8.13558 1.25 10H2.75ZM10.0298 1.25C8.15538 1.25 6.67442 1.24842 5.51887 1.40307C4.34232 1.56054 3.39019 1.8923 2.64124 2.64124L3.7019 3.7019C4.12453 3.27928 4.70596 3.02525 5.71785 2.88982C6.75075 2.75158 8.11311 2.75 10.0298 2.75V1.25Z"
                                                                                                                                    fill="currentColor" />
                                                                                                                                <path
                                                                                                                                    opacity="0.5"
                                                                                                                                    d="M6 14.5H14"
                                                                                                                                    stroke="currentColor"
                                                                                                                                    stroke-width="1.5"
                                                                                                                                    stroke-linecap="round" />
                                                                                                                                <path
                                                                                                                                    opacity="0.5"
                                                                                                                                    d="M6 18H11.5"
                                                                                                                                    stroke="currentColor"
                                                                                                                                    stroke-width="1.5"
                                                                                                                                    stroke-linecap="round" />
                                                                                                                                <path
                                                                                                                                    opacity="0.5"
                                                                                                                                    d="M13 2.5V5C13 7.35702 13 8.53553 13.7322 9.26777C14.4645 10 15.643 10 18 10H22"
                                                                                                                                    stroke="currentColor"
                                                                                                                                    stroke-width="1.5" />
                                                                                                                            </svg>
                                                                                                                        </ng-container>
                                                                                                                        <div
                                                                                                                            class="ltr:ml-3 rtl:mr-3">
                                                                                                                            <p
                                                                                                                                class="text-xs font-semibold text-primary">
                                                                                                                                {{request_details['serm_number']}}
                                                                                                                                Attachment
                                                                                                                            </p>
                                                                                                                            <p
                                                                                                                                class="text-[11px] text-gray-400 dark:text-gray-600">
                                                                                                                                Click
                                                                                                                                to
                                                                                                                                download
                                                                                                                            </p>
                                                                                                                        </div>
                                                                                                                        <div
                                                                                                                            class="absolute top-0 z-[5] hidden h-full w-full rounded-md bg-dark-light/40 group-hover:block ltr:left-0 rtl:right-0">
                                                                                                                        </div>
                                                                                                                        <div
                                                                                                                            class="btn btn-primary absolute top-1/2 left-1/2 z-10 hidden -translate-x-1/2 -translate-y-1/2 rounded-full p-1 group-hover:block">
                                                                                                                            <svg width="24"
                                                                                                                                height="24"
                                                                                                                                viewBox="0 0 24 24"
                                                                                                                                fill="none"
                                                                                                                                xmlns="http://www.w3.org/2000/svg"
                                                                                                                                class="h-5 w-5">
                                                                                                                                <path
                                                                                                                                    opacity="0.5"
                                                                                                                                    d="M3 15C3 17.8284 3 19.2426 3.87868 20.1213C4.75736 21 6.17157 21 9 21H15C17.8284 21 19.2426 21 20.1213 20.1213C21 19.2426 21 17.8284 21 15"
                                                                                                                                    stroke="currentColor"
                                                                                                                                    stroke-width="1.5"
                                                                                                                                    stroke-linecap="round"
                                                                                                                                    stroke-linejoin="round" />
                                                                                                                                <path
                                                                                                                                    d="M12 3V16M12 16L16 11.625M12 16L8 11.625"
                                                                                                                                    stroke="currentColor"
                                                                                                                                    stroke-width="1.5"
                                                                                                                                    stroke-linecap="round"
                                                                                                                                    stroke-linejoin="round" />
                                                                                                                            </svg>
                                                                                                                        </div>
                                                                                                                    </button>

                                                                                                                </ng-container>
                                                                                                            </div>

                                                                                                            <div
                                                                                                                class="text-xs text-white-dark">
                                                                                                                <span
                                                                                                                    style="font-size: x-small;">
                                                                                                                    {{
                                                                                                                    message.sc_created_on
                                                                                                                    |
                                                                                                                    date:'dd-MMM-yyyy
                                                                                                                    hh:mm
                                                                                                                    a'
                                                                                                                    }}

                                                                                                                </span>
                                                                                                            </div>



                                                                                                        </div>

                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="flex items-start gap-3"
                                                                                                    *ngIf="message.sc_us_type == 0"
                                                                                                    [ngClass]="{ 'justify-end':message.sc_us_type ==0 }">


                                                                                                    <div
                                                                                                        class="space-y-2">
                                                                                                        <div
                                                                                                            class="flex items-center gap-3">
                                                                                                            <div class="rounded-md bg-black/10 p-4 py-2 dark:bg-info-800 text-white"
                                                                                                                *ngIf="message.sc_message_type==0"
                                                                                                                [ngClass]=" 'ltr:rounded-br-none rtl:rounded-bl-none !bg-info text-white'
                                                                                                                       
                                                                                                                ">


                                                                                                                <ng-container
                                                                                                                    *ngIf="message.sc_message_type==0">
                                                                                                                    {{
                                                                                                                    message.sc_message
                                                                                                                    }}
                                                                                                                </ng-container>
                                                                                                            </div>
                                                                                                            <div
                                                                                                                *ngIf="message.sc_message_type!=0">
                                                                                                                <ng-container
                                                                                                                    *ngIf="message.sc_message_type==1">

                                                                                                                    <audio
                                                                                                                        controls>
                                                                                                                        <source
                                                                                                                            src="{{baseurl}}{{ message.sc_message }}">
                                                                                                                    </audio>
                                                                                                                </ng-container>
                                                                                                                <ng-container
                                                                                                                    *ngIf="message.sc_message_type==2">

                                                                                                                    <img class="fixed-size"
                                                                                                                        src="{{ baseurl }}{{ message.sc_message }}"
                                                                                                                        alt="image loading"
                                                                                                                        (click)="openLightbox(message)">
                                                                                                                </ng-container>
                                                                                                                <ng-container
                                                                                                                    *ngIf="message.sc_message_type==3">
                                                                                                                    <video
                                                                                                                        controls
                                                                                                                        preload="none">
                                                                                                                        <source
                                                                                                                            src="{{baseurl}}{{ message.sc_message }}"
                                                                                                                            type="video/mp4">
                                                                                                                    </video>
                                                                                                                </ng-container>
                                                                                                                <ng-container
                                                                                                                    *ngIf="message.sc_message_type==4">

                                                                                                                    <button
                                                                                                                        (click)="c_document_download(message.sc_message)"
                                                                                                                        type="button"
                                                                                                                        class="group relative mb-4 flex items-center rounded-md border border-[#e0e6ed] px-4 py-2.5 transition-all duration-300 hover:border-primary hover:text-primary ltr:mr-4 rtl:ml-4 dark:border-[#1b2e4b]">

                                                                                                                        <ng-container>
                                                                                                                            <svg width="24"
                                                                                                                                height="24"
                                                                                                                                viewBox="0 0 24 24"
                                                                                                                                fill="none"
                                                                                                                                xmlns="http://www.w3.org/2000/svg"
                                                                                                                                class="h-5 w-5">
                                                                                                                                <path
                                                                                                                                    d="M15.3929 4.05365L14.8912 4.61112L15.3929 4.05365ZM19.3517 7.61654L18.85 8.17402L19.3517 7.61654ZM21.654 10.1541L20.9689 10.4592V10.4592L21.654 10.1541ZM3.17157 20.8284L3.7019 20.2981H3.7019L3.17157 20.8284ZM20.8284 20.8284L20.2981 20.2981L20.2981 20.2981L20.8284 20.8284ZM14 21.25H10V22.75H14V21.25ZM2.75 14V10H1.25V14H2.75ZM21.25 13.5629V14H22.75V13.5629H21.25ZM14.8912 4.61112L18.85 8.17402L19.8534 7.05907L15.8947 3.49618L14.8912 4.61112ZM22.75 13.5629C22.75 11.8745 22.7651 10.8055 22.3391 9.84897L20.9689 10.4592C21.2349 11.0565 21.25 11.742 21.25 13.5629H22.75ZM18.85 8.17402C20.2034 9.3921 20.7029 9.86199 20.9689 10.4592L22.3391 9.84897C21.9131 8.89241 21.1084 8.18853 19.8534 7.05907L18.85 8.17402ZM10.0298 2.75C11.6116 2.75 12.2085 2.76158 12.7405 2.96573L13.2779 1.5653C12.4261 1.23842 11.498 1.25 10.0298 1.25V2.75ZM15.8947 3.49618C14.8087 2.51878 14.1297 1.89214 13.2779 1.5653L12.7405 2.96573C13.2727 3.16993 13.7215 3.55836 14.8912 4.61112L15.8947 3.49618ZM10 21.25C8.09318 21.25 6.73851 21.2484 5.71085 21.1102C4.70476 20.975 4.12511 20.7213 3.7019 20.2981L2.64124 21.3588C3.38961 22.1071 4.33855 22.4392 5.51098 22.5969C6.66182 22.7516 8.13558 22.75 10 22.75V21.25ZM1.25 14C1.25 15.8644 1.24841 17.3382 1.40313 18.489C1.56076 19.6614 1.89288 20.6104 2.64124 21.3588L3.7019 20.2981C3.27869 19.8749 3.02502 19.2952 2.88976 18.2892C2.75159 17.2615 2.75 15.9068 2.75 14H1.25ZM14 22.75C15.8644 22.75 17.3382 22.7516 18.489 22.5969C19.6614 22.4392 20.6104 22.1071 21.3588 21.3588L20.2981 20.2981C19.8749 20.7213 19.2952 20.975 18.2892 21.1102C17.2615 21.2484 15.9068 21.25 14 21.25V22.75ZM21.25 14C21.25 15.9068 21.2484 17.2615 21.1102 18.2892C20.975 19.2952 20.7213 19.8749 20.2981 20.2981L21.3588 21.3588C22.1071 20.6104 22.4392 19.6614 22.5969 18.489C22.7516 17.3382 22.75 15.8644 22.75 14H21.25ZM2.75 10C2.75 8.09318 2.75159 6.73851 2.88976 5.71085C3.02502 4.70476 3.27869 4.12511 3.7019 3.7019L2.64124 2.64124C1.89288 3.38961 1.56076 4.33855 1.40313 5.51098C1.24841 6.66182 1.25 8.13558 1.25 10H2.75ZM10.0298 1.25C8.15538 1.25 6.67442 1.24842 5.51887 1.40307C4.34232 1.56054 3.39019 1.8923 2.64124 2.64124L3.7019 3.7019C4.12453 3.27928 4.70596 3.02525 5.71785 2.88982C6.75075 2.75158 8.11311 2.75 10.0298 2.75V1.25Z"
                                                                                                                                    fill="currentColor" />
                                                                                                                                <path
                                                                                                                                    opacity="0.5"
                                                                                                                                    d="M6 14.5H14"
                                                                                                                                    stroke="currentColor"
                                                                                                                                    stroke-width="1.5"
                                                                                                                                    stroke-linecap="round" />
                                                                                                                                <path
                                                                                                                                    opacity="0.5"
                                                                                                                                    d="M6 18H11.5"
                                                                                                                                    stroke="currentColor"
                                                                                                                                    stroke-width="1.5"
                                                                                                                                    stroke-linecap="round" />
                                                                                                                                <path
                                                                                                                                    opacity="0.5"
                                                                                                                                    d="M13 2.5V5C13 7.35702 13 8.53553 13.7322 9.26777C14.4645 10 15.643 10 18 10H22"
                                                                                                                                    stroke="currentColor"
                                                                                                                                    stroke-width="1.5" />
                                                                                                                            </svg>
                                                                                                                        </ng-container>
                                                                                                                        <div
                                                                                                                            class="ltr:ml-3 rtl:mr-3">
                                                                                                                            <p
                                                                                                                                class="text-xs font-semibold text-primary">
                                                                                                                                {{request_details['serm_number']}}
                                                                                                                                Attachment
                                                                                                                            </p>
                                                                                                                            <p
                                                                                                                                class="text-[11px] text-gray-400 dark:text-gray-600">
                                                                                                                                Click
                                                                                                                                to
                                                                                                                                download
                                                                                                                            </p>
                                                                                                                        </div>
                                                                                                                        <div
                                                                                                                            class="absolute top-0 z-[5] hidden h-full w-full rounded-md bg-dark-light/40 group-hover:block ltr:left-0 rtl:right-0">
                                                                                                                        </div>
                                                                                                                        <div
                                                                                                                            class="btn btn-primary absolute top-1/2 left-1/2 z-10 hidden -translate-x-1/2 -translate-y-1/2 rounded-full p-1 group-hover:block">
                                                                                                                            <svg width="24"
                                                                                                                                height="24"
                                                                                                                                viewBox="0 0 24 24"
                                                                                                                                fill="none"
                                                                                                                                xmlns="http://www.w3.org/2000/svg"
                                                                                                                                class="h-5 w-5">
                                                                                                                                <path
                                                                                                                                    opacity="0.5"
                                                                                                                                    d="M3 15C3 17.8284 3 19.2426 3.87868 20.1213C4.75736 21 6.17157 21 9 21H15C17.8284 21 19.2426 21 20.1213 20.1213C21 19.2426 21 17.8284 21 15"
                                                                                                                                    stroke="currentColor"
                                                                                                                                    stroke-width="1.5"
                                                                                                                                    stroke-linecap="round"
                                                                                                                                    stroke-linejoin="round" />
                                                                                                                                <path
                                                                                                                                    d="M12 3V16M12 16L16 11.625M12 16L8 11.625"
                                                                                                                                    stroke="currentColor"
                                                                                                                                    stroke-width="1.5"
                                                                                                                                    stroke-linecap="round"
                                                                                                                                    stroke-linejoin="round" />
                                                                                                                            </svg>
                                                                                                                        </div>
                                                                                                                    </button>

                                                                                                                </ng-container>
                                                                                                            </div>

                                                                                                            <div
                                                                                                                class="text-xs text-white-dark">
                                                                                                                <span
                                                                                                                    style="font-size: x-small;">
                                                                                                                    {{
                                                                                                                    message.sc_created_on
                                                                                                                    |
                                                                                                                    date:'dd-MMM-yyyy
                                                                                                                    hh:mm
                                                                                                                    a'
                                                                                                                    }}

                                                                                                                </span>
                                                                                                            </div>
                                                                                                        </div>

                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </ng-container>
                                                                                        <ng-container
                                                                                            *ngIf="messages.length==0">


                                                                                            <p
                                                                                                class="mx-auto flex max-w-[190px] justify-center rounded-md bg-white-dark/20 p-2 font-semibold">
                                                                                                <svg width="24"
                                                                                                    height="24"
                                                                                                    viewBox="0 0 24 24"
                                                                                                    fill="none"
                                                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                                                    class="h-5 w-5 ltr:mr-2 rtl:ml-2">
                                                                                                    <path
                                                                                                        d="M13.0867 21.3877L13.7321 21.7697L13.0867 21.3877ZM13.6288 20.4718L12.9833 20.0898L13.6288 20.4718ZM10.3712 20.4718L9.72579 20.8539H9.72579L10.3712 20.4718ZM10.9133 21.3877L11.5587 21.0057L10.9133 21.3877ZM2.3806 15.9134L3.07351 15.6264V15.6264L2.3806 15.9134ZM7.78958 18.9915L7.77666 19.7413L7.78958 18.9915ZM5.08658 18.6194L4.79957 19.3123H4.79957L5.08658 18.6194ZM21.6194 15.9134L22.3123 16.2004V16.2004L21.6194 15.9134ZM16.2104 18.9915L16.1975 18.2416L16.2104 18.9915ZM18.9134 18.6194L19.2004 19.3123H19.2004L18.9134 18.6194ZM19.6125 2.7368L19.2206 3.37628L19.6125 2.7368ZM21.2632 4.38751L21.9027 3.99563V3.99563L21.2632 4.38751ZM4.38751 2.7368L3.99563 2.09732V2.09732L4.38751 2.7368ZM2.7368 4.38751L2.09732 3.99563H2.09732L2.7368 4.38751ZM9.40279 19.2098L9.77986 18.5615L9.77986 18.5615L9.40279 19.2098ZM13.7321 21.7697L14.2742 20.8539L12.9833 20.0898L12.4412 21.0057L13.7321 21.7697ZM9.72579 20.8539L10.2679 21.7697L11.5587 21.0057L11.0166 20.0898L9.72579 20.8539ZM12.4412 21.0057C12.2485 21.3313 11.7515 21.3313 11.5587 21.0057L10.2679 21.7697C11.0415 23.0767 12.9585 23.0767 13.7321 21.7697L12.4412 21.0057ZM10.5 2.75H13.5V1.25H10.5V2.75ZM21.25 10.5V11.5H22.75V10.5H21.25ZM2.75 11.5V10.5H1.25V11.5H2.75ZM1.25 11.5C1.25 12.6546 1.24959 13.5581 1.29931 14.2868C1.3495 15.0223 1.45323 15.6344 1.68769 16.2004L3.07351 15.6264C2.92737 15.2736 2.84081 14.8438 2.79584 14.1847C2.75041 13.5189 2.75 12.6751 2.75 11.5H1.25ZM7.8025 18.2416C6.54706 18.2199 5.88923 18.1401 5.37359 17.9265L4.79957 19.3123C5.60454 19.6457 6.52138 19.7197 7.77666 19.7413L7.8025 18.2416ZM1.68769 16.2004C2.27128 17.6093 3.39066 18.7287 4.79957 19.3123L5.3736 17.9265C4.33223 17.4951 3.50486 16.6678 3.07351 15.6264L1.68769 16.2004ZM21.25 11.5C21.25 12.6751 21.2496 13.5189 21.2042 14.1847C21.1592 14.8438 21.0726 15.2736 20.9265 15.6264L22.3123 16.2004C22.5468 15.6344 22.6505 15.0223 22.7007 14.2868C22.7504 13.5581 22.75 12.6546 22.75 11.5H21.25ZM16.2233 19.7413C17.4786 19.7197 18.3955 19.6457 19.2004 19.3123L18.6264 17.9265C18.1108 18.1401 17.4529 18.2199 16.1975 18.2416L16.2233 19.7413ZM20.9265 15.6264C20.4951 16.6678 19.6678 17.4951 18.6264 17.9265L19.2004 19.3123C20.6093 18.7287 21.7287 17.6093 22.3123 16.2004L20.9265 15.6264ZM13.5 2.75C15.1512 2.75 16.337 2.75079 17.2619 2.83873C18.1757 2.92561 18.7571 3.09223 19.2206 3.37628L20.0044 2.09732C19.2655 1.64457 18.4274 1.44279 17.4039 1.34547C16.3915 1.24921 15.1222 1.25 13.5 1.25V2.75ZM22.75 10.5C22.75 8.87781 22.7508 7.6085 22.6545 6.59611C22.5572 5.57256 22.3554 4.73445 21.9027 3.99563L20.6237 4.77938C20.9078 5.24291 21.0744 5.82434 21.1613 6.73809C21.2492 7.663 21.25 8.84876 21.25 10.5H22.75ZM19.2206 3.37628C19.7925 3.72672 20.2733 4.20752 20.6237 4.77938L21.9027 3.99563C21.4286 3.22194 20.7781 2.57144 20.0044 2.09732L19.2206 3.37628ZM10.5 1.25C8.87781 1.25 7.6085 1.24921 6.59611 1.34547C5.57256 1.44279 4.73445 1.64457 3.99563 2.09732L4.77938 3.37628C5.24291 3.09223 5.82434 2.92561 6.73809 2.83873C7.663 2.75079 8.84876 2.75 10.5 2.75V1.25ZM2.75 10.5C2.75 8.84876 2.75079 7.663 2.83873 6.73809C2.92561 5.82434 3.09223 5.24291 3.37628 4.77938L2.09732 3.99563C1.64457 4.73445 1.44279 5.57256 1.34547 6.59611C1.24921 7.6085 1.25 8.87781 1.25 10.5H2.75ZM3.99563 2.09732C3.22194 2.57144 2.57144 3.22194 2.09732 3.99563L3.37628 4.77938C3.72672 4.20752 4.20752 3.72672 4.77938 3.37628L3.99563 2.09732ZM11.0166 20.0898C10.8136 19.7468 10.6354 19.4441 10.4621 19.2063C10.2795 18.9559 10.0702 18.7304 9.77986 18.5615L9.02572 19.8582C9.07313 19.8857 9.13772 19.936 9.24985 20.0898C9.37122 20.2564 9.50835 20.4865 9.72579 20.8539L11.0166 20.0898ZM7.77666 19.7413C8.21575 19.7489 8.49387 19.7545 8.70588 19.7779C8.90399 19.7999 8.98078 19.832 9.02572 19.8582L9.77986 18.5615C9.4871 18.3912 9.18246 18.3215 8.87097 18.287C8.57339 18.2541 8.21375 18.2487 7.8025 18.2416L7.77666 19.7413ZM14.2742 20.8539C14.4916 20.4865 14.6287 20.2564 14.7501 20.0898C14.8622 19.936 14.9268 19.8857 14.9742 19.8582L14.2201 18.5615C13.9298 18.7304 13.7204 18.9559 13.5379 19.2063C13.3646 19.4441 13.1864 19.7468 12.9833 20.0898L14.2742 20.8539ZM16.1975 18.2416C15.7862 18.2487 15.4266 18.2541 15.129 18.287C14.8175 18.3215 14.5129 18.3912 14.2201 18.5615L14.9742 19.8582C15.0192 19.832 15.096 19.7999 15.2941 19.7779C15.5061 19.7545 15.7842 19.7489 16.2233 19.7413L16.1975 18.2416Z"
                                                                                                        fill="currentColor" />
                                                                                                </svg>

                                                                                                {{'No Chat
                                                                                                History'|translate}}
                                                                                            </p>
                                                                                        </ng-container>
                                                                                    </ng-container>
                                                                                    <!-- <ng-container *ngIf="is_expert_service==true">
                                                                                    <ng-container *ngIf="expert_messages && expert_messages.length">
                                                                                        <div *ngFor="let message of expert_messages">
                                                                                            <div class="flex items-start gap-3" *ngIf="message.sc_us_type == 4"
                                                                                                [ngClass]="{ 'justify-start': message.sc_us_type ==4 }">
                                                        
                                                        
                                                                                                <div class="space-y-2">
                                                                                                    <div class="flex items-center gap-3">
                                                                                                        <div class="rounded-md bg-black/10 p-4 py-2 dark:bg-gray-800" *ngIf="message.sc_message_type==0"
                                                                                                            [ngClass]=" 'ltr:rounded-br-none rtl:rounded-bl-none !bg-gray text-black'
                                                                                                                       
                                                                                                                ">
        
                                                                                                                
                                                                                                              <ng-container *ngIf="message.sc_message_type==0">
                                                                                                                {{ message.sc_message }}
                                                                                                            </ng-container>
                                                                                                        </div>
                                                                                                        <div *ngIf="message.sc_message_type!=0">
                                                                                                            <ng-container *ngIf="message.sc_message_type==1">
                                                                                                                
                                                                                                                <audio controls >
                                                                                                                    <source src="{{baseurl}}{{ message.sc_message }}">
                                                                                                                </audio>
                                                                                                            </ng-container>
                                                                                                            <ng-container *ngIf="message.sc_message_type==2">
                                                                                                                
                                                                                                                <img class="fixed-size" src="{{ baseurl }}{{ message.sc_message }}" alt="image loading"  (click)="openLightbox(message)" >
                                                                                                            </ng-container>
                                                                                                            <ng-container *ngIf="message.sc_message_type==3">
                                                                                                                <video controls preload="none">
                                                                                                                    <source src="{{baseurl}}{{ message.sc_message }}" type="video/mp4">
                                                                                                                </video>
                                                                                                            </ng-container>
        
                                                                                                            <ng-container *ngIf="message.sc_message_type==4">
        
                                                                                                                <button (click)="c_document_download(message.sc_message)"
                                                                                                                type="button"
                                                                                                                class="group relative mb-4 flex items-center rounded-md border border-[#e0e6ed] px-4 py-2.5 transition-all duration-300 hover:border-primary hover:text-primary ltr:mr-4 rtl:ml-4 dark:border-[#1b2e4b]"
                                                                                                                >
                                                                                                                
                                                                                                                <ng-container >
                                                                                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5">
                                                                                                                        <path
                                                                                                                            d="M15.3929 4.05365L14.8912 4.61112L15.3929 4.05365ZM19.3517 7.61654L18.85 8.17402L19.3517 7.61654ZM21.654 10.1541L20.9689 10.4592V10.4592L21.654 10.1541ZM3.17157 20.8284L3.7019 20.2981H3.7019L3.17157 20.8284ZM20.8284 20.8284L20.2981 20.2981L20.2981 20.2981L20.8284 20.8284ZM14 21.25H10V22.75H14V21.25ZM2.75 14V10H1.25V14H2.75ZM21.25 13.5629V14H22.75V13.5629H21.25ZM14.8912 4.61112L18.85 8.17402L19.8534 7.05907L15.8947 3.49618L14.8912 4.61112ZM22.75 13.5629C22.75 11.8745 22.7651 10.8055 22.3391 9.84897L20.9689 10.4592C21.2349 11.0565 21.25 11.742 21.25 13.5629H22.75ZM18.85 8.17402C20.2034 9.3921 20.7029 9.86199 20.9689 10.4592L22.3391 9.84897C21.9131 8.89241 21.1084 8.18853 19.8534 7.05907L18.85 8.17402ZM10.0298 2.75C11.6116 2.75 12.2085 2.76158 12.7405 2.96573L13.2779 1.5653C12.4261 1.23842 11.498 1.25 10.0298 1.25V2.75ZM15.8947 3.49618C14.8087 2.51878 14.1297 1.89214 13.2779 1.5653L12.7405 2.96573C13.2727 3.16993 13.7215 3.55836 14.8912 4.61112L15.8947 3.49618ZM10 21.25C8.09318 21.25 6.73851 21.2484 5.71085 21.1102C4.70476 20.975 4.12511 20.7213 3.7019 20.2981L2.64124 21.3588C3.38961 22.1071 4.33855 22.4392 5.51098 22.5969C6.66182 22.7516 8.13558 22.75 10 22.75V21.25ZM1.25 14C1.25 15.8644 1.24841 17.3382 1.40313 18.489C1.56076 19.6614 1.89288 20.6104 2.64124 21.3588L3.7019 20.2981C3.27869 19.8749 3.02502 19.2952 2.88976 18.2892C2.75159 17.2615 2.75 15.9068 2.75 14H1.25ZM14 22.75C15.8644 22.75 17.3382 22.7516 18.489 22.5969C19.6614 22.4392 20.6104 22.1071 21.3588 21.3588L20.2981 20.2981C19.8749 20.7213 19.2952 20.975 18.2892 21.1102C17.2615 21.2484 15.9068 21.25 14 21.25V22.75ZM21.25 14C21.25 15.9068 21.2484 17.2615 21.1102 18.2892C20.975 19.2952 20.7213 19.8749 20.2981 20.2981L21.3588 21.3588C22.1071 20.6104 22.4392 19.6614 22.5969 18.489C22.7516 17.3382 22.75 15.8644 22.75 14H21.25ZM2.75 10C2.75 8.09318 2.75159 6.73851 2.88976 5.71085C3.02502 4.70476 3.27869 4.12511 3.7019 3.7019L2.64124 2.64124C1.89288 3.38961 1.56076 4.33855 1.40313 5.51098C1.24841 6.66182 1.25 8.13558 1.25 10H2.75ZM10.0298 1.25C8.15538 1.25 6.67442 1.24842 5.51887 1.40307C4.34232 1.56054 3.39019 1.8923 2.64124 2.64124L3.7019 3.7019C4.12453 3.27928 4.70596 3.02525 5.71785 2.88982C6.75075 2.75158 8.11311 2.75 10.0298 2.75V1.25Z"
                                                                                                                            fill="currentColor"
                                                                                                                        />
                                                                                                                        <path opacity="0.5" d="M6 14.5H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                                                                                                        <path opacity="0.5" d="M6 18H11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                                                                                                        <path
                                                                                                                            opacity="0.5"
                                                                                                                            d="M13 2.5V5C13 7.35702 13 8.53553 13.7322 9.26777C14.4645 10 15.643 10 18 10H22"
                                                                                                                            stroke="currentColor"
                                                                                                                            stroke-width="1.5"
                                                                                                                        />
                                                                                                                    </svg>
                                                                                                                </ng-container>
                                                                                                                <div class="ltr:ml-3 rtl:mr-3">
                                                                                                                    <p class="text-xs font-semibold text-primary">{{request_details['serm_number']}} Attachment</p>
                                                                                                                    <p class="text-[11px] text-gray-400 dark:text-gray-600">Click to download</p>
                                                                                                                </div>
                                                                                                                <div
                                                                                                                    class="absolute top-0 z-[5] hidden h-full w-full rounded-md bg-dark-light/40 group-hover:block ltr:left-0 rtl:right-0"
                                                                                                                ></div>
                                                                                                                <div
                                                                                                                    class="btn btn-primary absolute top-1/2 left-1/2 z-10 hidden -translate-x-1/2 -translate-y-1/2 rounded-full p-1 group-hover:block"
                                                                                                                >
                                                                                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5">
                                                                                                                        <path
                                                                                                                            opacity="0.5"
                                                                                                                            d="M3 15C3 17.8284 3 19.2426 3.87868 20.1213C4.75736 21 6.17157 21 9 21H15C17.8284 21 19.2426 21 20.1213 20.1213C21 19.2426 21 17.8284 21 15"
                                                                                                                            stroke="currentColor"
                                                                                                                            stroke-width="1.5"
                                                                                                                            stroke-linecap="round"
                                                                                                                            stroke-linejoin="round"
                                                                                                                        />
                                                                                                                        <path
                                                                                                                            d="M12 3V16M12 16L16 11.625M12 16L8 11.625"
                                                                                                                            stroke="currentColor"
                                                                                                                            stroke-width="1.5"
                                                                                                                            stroke-linecap="round"
                                                                                                                            stroke-linejoin="round"
                                                                                                                        />
                                                                                                                    </svg>
                                                                                                                </div>
                                                                                                                </button>
                                                                                                                
                                                                                                            </ng-container>
                                                                                                        </div>
                                                                                                        
                                                                                                        <div class="text-xs text-white-dark">
                                                                                                            <span style="font-size: x-small;">
                                                                                                                {{ message.sc_created_on | date:'dd-MMM-yyyy hh:mm a' }}
            
                                                                                                                </span>
                                                                                                        </div>
                                                        
                                                        
                                                        
                                                                                                    </div>
                                                        
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="flex items-start gap-3" *ngIf="message.sc_us_type == 3"
                                                                                                [ngClass]="{ 'justify-end':message.sc_us_type ==3 }">
                                                        
                                                        
                                                                                                <div class="space-y-2">
                                                                                                    <div class="flex items-center gap-3">
                                                                                                        <div class="rounded-md bg-black/10 p-4 py-2 dark:bg-info-800 text-white" *ngIf="message.sc_message_type==0"
                                                                                                            [ngClass]=" 'ltr:rounded-br-none rtl:rounded-bl-none !bg-info text-white'
                                                                                                                       
                                                                                                                ">
        
        
                                                                                                              <ng-container *ngIf="message.sc_message_type==0">
                                                                                                                {{ message.sc_message }}
                                                                                                            </ng-container>
                                                                                                        </div>
                                                                                                        <div *ngIf="message.sc_message_type!=0">
                                                                                                            <ng-container *ngIf="message.sc_message_type==1">
                                                                                                                
                                                                                                                <audio controls >
                                                                                                                    <source src="{{baseurl}}{{ message.sc_message }}">
                                                                                                                </audio>
                                                                                                            </ng-container>
                                                                                                            <ng-container *ngIf="message.sc_message_type==2">
                                                                                                                
                                                                                                                <img class="fixed-size" src="{{ baseurl }}{{ message.sc_message }}" alt="image loading"  (click)="openLightbox(message)" >
                                                                                                            </ng-container>
                                                                                                            <ng-container *ngIf="message.sc_message_type==3">
                                                                                                                <video controls preload="none">
                                                                                                                    <source src="{{baseurl}}{{ message.sc_message }}" type="video/mp4">
                                                                                                                </video>
                                                                                                            </ng-container>
                                                                                                            <ng-container *ngIf="message.sc_message_type==4">
                                                                                                                
                                                                                                                <button
                                                                                                                (click)="c_document_download(message.sc_message)"
                                                                                                                type="button"
                                                                                                                class="group relative mb-4 flex items-center rounded-md border border-[#e0e6ed] px-4 py-2.5 transition-all duration-300 hover:border-primary hover:text-primary ltr:mr-4 rtl:ml-4 dark:border-[#1b2e4b]"
                                                                                                                >
        
                                                                                                                <ng-container >
                                                                                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5">
                                                                                                                        <path
                                                                                                                            d="M15.3929 4.05365L14.8912 4.61112L15.3929 4.05365ZM19.3517 7.61654L18.85 8.17402L19.3517 7.61654ZM21.654 10.1541L20.9689 10.4592V10.4592L21.654 10.1541ZM3.17157 20.8284L3.7019 20.2981H3.7019L3.17157 20.8284ZM20.8284 20.8284L20.2981 20.2981L20.2981 20.2981L20.8284 20.8284ZM14 21.25H10V22.75H14V21.25ZM2.75 14V10H1.25V14H2.75ZM21.25 13.5629V14H22.75V13.5629H21.25ZM14.8912 4.61112L18.85 8.17402L19.8534 7.05907L15.8947 3.49618L14.8912 4.61112ZM22.75 13.5629C22.75 11.8745 22.7651 10.8055 22.3391 9.84897L20.9689 10.4592C21.2349 11.0565 21.25 11.742 21.25 13.5629H22.75ZM18.85 8.17402C20.2034 9.3921 20.7029 9.86199 20.9689 10.4592L22.3391 9.84897C21.9131 8.89241 21.1084 8.18853 19.8534 7.05907L18.85 8.17402ZM10.0298 2.75C11.6116 2.75 12.2085 2.76158 12.7405 2.96573L13.2779 1.5653C12.4261 1.23842 11.498 1.25 10.0298 1.25V2.75ZM15.8947 3.49618C14.8087 2.51878 14.1297 1.89214 13.2779 1.5653L12.7405 2.96573C13.2727 3.16993 13.7215 3.55836 14.8912 4.61112L15.8947 3.49618ZM10 21.25C8.09318 21.25 6.73851 21.2484 5.71085 21.1102C4.70476 20.975 4.12511 20.7213 3.7019 20.2981L2.64124 21.3588C3.38961 22.1071 4.33855 22.4392 5.51098 22.5969C6.66182 22.7516 8.13558 22.75 10 22.75V21.25ZM1.25 14C1.25 15.8644 1.24841 17.3382 1.40313 18.489C1.56076 19.6614 1.89288 20.6104 2.64124 21.3588L3.7019 20.2981C3.27869 19.8749 3.02502 19.2952 2.88976 18.2892C2.75159 17.2615 2.75 15.9068 2.75 14H1.25ZM14 22.75C15.8644 22.75 17.3382 22.7516 18.489 22.5969C19.6614 22.4392 20.6104 22.1071 21.3588 21.3588L20.2981 20.2981C19.8749 20.7213 19.2952 20.975 18.2892 21.1102C17.2615 21.2484 15.9068 21.25 14 21.25V22.75ZM21.25 14C21.25 15.9068 21.2484 17.2615 21.1102 18.2892C20.975 19.2952 20.7213 19.8749 20.2981 20.2981L21.3588 21.3588C22.1071 20.6104 22.4392 19.6614 22.5969 18.489C22.7516 17.3382 22.75 15.8644 22.75 14H21.25ZM2.75 10C2.75 8.09318 2.75159 6.73851 2.88976 5.71085C3.02502 4.70476 3.27869 4.12511 3.7019 3.7019L2.64124 2.64124C1.89288 3.38961 1.56076 4.33855 1.40313 5.51098C1.24841 6.66182 1.25 8.13558 1.25 10H2.75ZM10.0298 1.25C8.15538 1.25 6.67442 1.24842 5.51887 1.40307C4.34232 1.56054 3.39019 1.8923 2.64124 2.64124L3.7019 3.7019C4.12453 3.27928 4.70596 3.02525 5.71785 2.88982C6.75075 2.75158 8.11311 2.75 10.0298 2.75V1.25Z"
                                                                                                                            fill="currentColor"
                                                                                                                        />
                                                                                                                        <path opacity="0.5" d="M6 14.5H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                                                                                                        <path opacity="0.5" d="M6 18H11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                                                                                                        <path
                                                                                                                            opacity="0.5"
                                                                                                                            d="M13 2.5V5C13 7.35702 13 8.53553 13.7322 9.26777C14.4645 10 15.643 10 18 10H22"
                                                                                                                            stroke="currentColor"
                                                                                                                            stroke-width="1.5"
                                                                                                                        />
                                                                                                                    </svg>
                                                                                                                </ng-container>
                                                                                                                <div class="ltr:ml-3 rtl:mr-3">
                                                                                                                    <p class="text-xs font-semibold text-primary">{{request_details['serm_number']}} Attachment</p>
                                                                                                                    <p class="text-[11px] text-gray-400 dark:text-gray-600">Click to download</p>
                                                                                                                </div>
                                                                                                                <div
                                                                                                                    class="absolute top-0 z-[5] hidden h-full w-full rounded-md bg-dark-light/40 group-hover:block ltr:left-0 rtl:right-0"
                                                                                                                ></div>
                                                                                                                <div
                                                                                                                    class="btn btn-primary absolute top-1/2 left-1/2 z-10 hidden -translate-x-1/2 -translate-y-1/2 rounded-full p-1 group-hover:block"
                                                                                                                >
                                                                                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5">
                                                                                                                        <path
                                                                                                                            opacity="0.5"
                                                                                                                            d="M3 15C3 17.8284 3 19.2426 3.87868 20.1213C4.75736 21 6.17157 21 9 21H15C17.8284 21 19.2426 21 20.1213 20.1213C21 19.2426 21 17.8284 21 15"
                                                                                                                            stroke="currentColor"
                                                                                                                            stroke-width="1.5"
                                                                                                                            stroke-linecap="round"
                                                                                                                            stroke-linejoin="round"
                                                                                                                        />
                                                                                                                        <path
                                                                                                                            d="M12 3V16M12 16L16 11.625M12 16L8 11.625"
                                                                                                                            stroke="currentColor"
                                                                                                                            stroke-width="1.5"
                                                                                                                            stroke-linecap="round"
                                                                                                                            stroke-linejoin="round"
                                                                                                                        />
                                                                                                                    </svg>
                                                                                                                </div>
                                                                                                                </button>
        
                                                                                                            </ng-container>
                                                                                                        </div>
                                                                                                        
                                                                                                        <div class="text-xs text-white-dark">
                                                                                                            <span style="font-size: x-small;">
                                                                                                                {{ message.sc_created_on | date:'dd-MMM-yyyy hh:mm a' }}
            
                                                                                                                </span>
                                                                                                        </div>
                                                                                                    </div>
                                                        
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </ng-container>
                                                                                    <ng-container *ngIf="expert_messages.length==0">
                                                                                       
        
                                                                                    <p
                                                                                class="mx-auto flex max-w-[190px] justify-center rounded-md bg-white-dark/20 p-2 font-semibold">
                                                                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                                                    xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ltr:mr-2 rtl:ml-2">
                                                                                    <path
                                                                                        d="M13.0867 21.3877L13.7321 21.7697L13.0867 21.3877ZM13.6288 20.4718L12.9833 20.0898L13.6288 20.4718ZM10.3712 20.4718L9.72579 20.8539H9.72579L10.3712 20.4718ZM10.9133 21.3877L11.5587 21.0057L10.9133 21.3877ZM2.3806 15.9134L3.07351 15.6264V15.6264L2.3806 15.9134ZM7.78958 18.9915L7.77666 19.7413L7.78958 18.9915ZM5.08658 18.6194L4.79957 19.3123H4.79957L5.08658 18.6194ZM21.6194 15.9134L22.3123 16.2004V16.2004L21.6194 15.9134ZM16.2104 18.9915L16.1975 18.2416L16.2104 18.9915ZM18.9134 18.6194L19.2004 19.3123H19.2004L18.9134 18.6194ZM19.6125 2.7368L19.2206 3.37628L19.6125 2.7368ZM21.2632 4.38751L21.9027 3.99563V3.99563L21.2632 4.38751ZM4.38751 2.7368L3.99563 2.09732V2.09732L4.38751 2.7368ZM2.7368 4.38751L2.09732 3.99563H2.09732L2.7368 4.38751ZM9.40279 19.2098L9.77986 18.5615L9.77986 18.5615L9.40279 19.2098ZM13.7321 21.7697L14.2742 20.8539L12.9833 20.0898L12.4412 21.0057L13.7321 21.7697ZM9.72579 20.8539L10.2679 21.7697L11.5587 21.0057L11.0166 20.0898L9.72579 20.8539ZM12.4412 21.0057C12.2485 21.3313 11.7515 21.3313 11.5587 21.0057L10.2679 21.7697C11.0415 23.0767 12.9585 23.0767 13.7321 21.7697L12.4412 21.0057ZM10.5 2.75H13.5V1.25H10.5V2.75ZM21.25 10.5V11.5H22.75V10.5H21.25ZM2.75 11.5V10.5H1.25V11.5H2.75ZM1.25 11.5C1.25 12.6546 1.24959 13.5581 1.29931 14.2868C1.3495 15.0223 1.45323 15.6344 1.68769 16.2004L3.07351 15.6264C2.92737 15.2736 2.84081 14.8438 2.79584 14.1847C2.75041 13.5189 2.75 12.6751 2.75 11.5H1.25ZM7.8025 18.2416C6.54706 18.2199 5.88923 18.1401 5.37359 17.9265L4.79957 19.3123C5.60454 19.6457 6.52138 19.7197 7.77666 19.7413L7.8025 18.2416ZM1.68769 16.2004C2.27128 17.6093 3.39066 18.7287 4.79957 19.3123L5.3736 17.9265C4.33223 17.4951 3.50486 16.6678 3.07351 15.6264L1.68769 16.2004ZM21.25 11.5C21.25 12.6751 21.2496 13.5189 21.2042 14.1847C21.1592 14.8438 21.0726 15.2736 20.9265 15.6264L22.3123 16.2004C22.5468 15.6344 22.6505 15.0223 22.7007 14.2868C22.7504 13.5581 22.75 12.6546 22.75 11.5H21.25ZM16.2233 19.7413C17.4786 19.7197 18.3955 19.6457 19.2004 19.3123L18.6264 17.9265C18.1108 18.1401 17.4529 18.2199 16.1975 18.2416L16.2233 19.7413ZM20.9265 15.6264C20.4951 16.6678 19.6678 17.4951 18.6264 17.9265L19.2004 19.3123C20.6093 18.7287 21.7287 17.6093 22.3123 16.2004L20.9265 15.6264ZM13.5 2.75C15.1512 2.75 16.337 2.75079 17.2619 2.83873C18.1757 2.92561 18.7571 3.09223 19.2206 3.37628L20.0044 2.09732C19.2655 1.64457 18.4274 1.44279 17.4039 1.34547C16.3915 1.24921 15.1222 1.25 13.5 1.25V2.75ZM22.75 10.5C22.75 8.87781 22.7508 7.6085 22.6545 6.59611C22.5572 5.57256 22.3554 4.73445 21.9027 3.99563L20.6237 4.77938C20.9078 5.24291 21.0744 5.82434 21.1613 6.73809C21.2492 7.663 21.25 8.84876 21.25 10.5H22.75ZM19.2206 3.37628C19.7925 3.72672 20.2733 4.20752 20.6237 4.77938L21.9027 3.99563C21.4286 3.22194 20.7781 2.57144 20.0044 2.09732L19.2206 3.37628ZM10.5 1.25C8.87781 1.25 7.6085 1.24921 6.59611 1.34547C5.57256 1.44279 4.73445 1.64457 3.99563 2.09732L4.77938 3.37628C5.24291 3.09223 5.82434 2.92561 6.73809 2.83873C7.663 2.75079 8.84876 2.75 10.5 2.75V1.25ZM2.75 10.5C2.75 8.84876 2.75079 7.663 2.83873 6.73809C2.92561 5.82434 3.09223 5.24291 3.37628 4.77938L2.09732 3.99563C1.64457 4.73445 1.44279 5.57256 1.34547 6.59611C1.24921 7.6085 1.25 8.87781 1.25 10.5H2.75ZM3.99563 2.09732C3.22194 2.57144 2.57144 3.22194 2.09732 3.99563L3.37628 4.77938C3.72672 4.20752 4.20752 3.72672 4.77938 3.37628L3.99563 2.09732ZM11.0166 20.0898C10.8136 19.7468 10.6354 19.4441 10.4621 19.2063C10.2795 18.9559 10.0702 18.7304 9.77986 18.5615L9.02572 19.8582C9.07313 19.8857 9.13772 19.936 9.24985 20.0898C9.37122 20.2564 9.50835 20.4865 9.72579 20.8539L11.0166 20.0898ZM7.77666 19.7413C8.21575 19.7489 8.49387 19.7545 8.70588 19.7779C8.90399 19.7999 8.98078 19.832 9.02572 19.8582L9.77986 18.5615C9.4871 18.3912 9.18246 18.3215 8.87097 18.287C8.57339 18.2541 8.21375 18.2487 7.8025 18.2416L7.77666 19.7413ZM14.2742 20.8539C14.4916 20.4865 14.6287 20.2564 14.7501 20.0898C14.8622 19.936 14.9268 19.8857 14.9742 19.8582L14.2201 18.5615C13.9298 18.7304 13.7204 18.9559 13.5379 19.2063C13.3646 19.4441 13.1864 19.7468 12.9833 20.0898L14.2742 20.8539ZM16.1975 18.2416C15.7862 18.2487 15.4266 18.2541 15.129 18.287C14.8175 18.3215 14.5129 18.3912 14.2201 18.5615L14.9742 19.8582C15.0192 19.832 15.096 19.7999 15.2941 19.7779C15.5061 19.7545 15.7842 19.7489 16.2233 19.7413L16.1975 18.2416Z"
                                                                                        fill="currentColor" />
                                                                                </svg>
                                                    
                                                                                {{'No Chat History'|translate}}
                                                                            </p>
                                                                                      </ng-container>
                                                                                </ng-container> -->

                                                                                </ng-container>
                                                                            </div>
                                                                        </ng-scrollbar>
                                                                        <!-- <ng-container *ngIf="is_expert_service==false">
                                                                    <div class="absolute bottom-0 left-0 w-full p-4"
                                                                     style="margin-bottom: -6%;padding: 3%;">
                                                                        <div class="w-full items-center space-x-3 rtl:space-x-reverse sm:flex">
                                                                           
                                                                            <div class="relative flex-1">
                                                                                <input
                                                                                    class="form-input rounded-full border-0 bg-[#f4f4f4] px-12 py-2 focus:outline-none" 
                                                                                    placeholder="Type a message" [(ngModel)]="textMessage" name="textMessage"
                                                                                    style="margin-left: -4%;
                                                                                    background-color: #f4f4f4;
                                                                                    width: 105%;"
                                                                                    (keyup.enter)="onEnter($event)"
                                                                                    (paste)="ImageHandler($event)" />
                                                
                                                
                                                                                <button (click)="sendMessage(textMessage,0)" type="button"
                                                                                    class="absolute top-1/2 -translate-y-1/2 hover:text-primary ltr:right-4 rtl:left-4">
                                                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                                                        xmlns="http://www.w3.org/2000/svg" class="h-5 w-5">
                                                                                        <path
                                                                                            d="M17.4975 18.4851L20.6281 9.09373C21.8764 5.34874 22.5006 3.47624 21.5122 2.48782C20.5237 1.49939 18.6511 2.12356 14.906 3.37189L5.57477 6.48218C3.49295 7.1761 2.45203 7.52305 2.13608 8.28637C2.06182 8.46577 2.01692 8.65596 2.00311 8.84963C1.94433 9.67365 2.72018 10.4495 4.27188 12.0011L4.55451 12.2837C4.80921 12.5384 4.93655 12.6658 5.03282 12.8075C5.22269 13.0871 5.33046 13.4143 5.34393 13.7519C5.35076 13.9232 5.32403 14.1013 5.27057 14.4574C5.07488 15.7612 4.97703 16.4131 5.0923 16.9147C5.32205 17.9146 6.09599 18.6995 7.09257 18.9433C7.59255 19.0656 8.24576 18.977 9.5522 18.7997L9.62363 18.79C9.99191 18.74 10.1761 18.715 10.3529 18.7257C10.6738 18.745 10.9838 18.8496 11.251 19.0285C11.3981 19.1271 11.5295 19.2585 11.7923 19.5213L12.0436 19.7725C13.5539 21.2828 14.309 22.0379 15.1101 21.9985C15.3309 21.9877 15.5479 21.9365 15.7503 21.8474C16.4844 21.5244 16.8221 20.5113 17.4975 18.4851Z"
                                                                                            stroke="currentColor" stroke-width="1.5" />
                                                                                        <path opacity="0.5" d="M6 18L21 3" stroke="currentColor" stroke-width="1.5"
                                                                                            stroke-linecap="round" />
                                                                                    </svg>
                                                                                </button>
                                                                                
                                                                            </div>
                                                                            <div class="hidden items-center space-x-3 py-3 rtl:space-x-reverse sm:block sm:py-0">
                                                                                
                                                                                <ng-container >
                                                                                    
                                                                                    <input id="fileImage" style="display: none;" #fileImage type="file"
                                                                                     (change)="onFileChanged($event)"
                                                                                     accept="image/*"/>
                                                                                    <button type="button" class="rounded-md bg-[#ffff] p-2 hover:bg-primary-light hover:text-primary dark:bg-[#ffff]" (click)="fileImage.click()" [disabled]="c_img_loader==true">
                                                                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"  ngxTippy="Upload Image">
                                                                                            <path d="M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                                                                            <path opacity="0.5" d="M2 12.5001L3.75159 10.9675C4.66286 10.1702 6.03628 10.2159 6.89249 11.0721L11.1822 15.3618C11.8694 16.0491 12.9512 16.1428 13.7464 15.5839L14.0446 15.3744C15.1888 14.5702 16.7369 14.6634 17.7765 15.599L21 18.5001" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                                                                            <path d="M17 2V11M17 2L20 5M17 2L14 5" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                        </svg>
                                                                                    </button>
                                                                                </ng-container>
                                                                                
    
                                                                            </div>
                                                                            <div class="hidden items-center space-x-3 py-3 rtl:space-x-reverse sm:block sm:py-0">
                                                                                <input id="fileAudio"  #fileAudio type="file" (change)="onFile_doc_Changed($event)"  accept=".pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document" style="display: none;"/>
                                                                                               
                                                                                <button type="button"  class="rounded-md bg-[#ffff] p-2 hover:bg-primary-light hover:text-primary dark:bg-[#ffff]" (click)="fileAudio.click()" [disabled]="c_aud_loader==true">
                                                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.85929 1.25001C6.88904 1.25001 6.91919 1.25002 6.94976 1.25002L6.98675 1.25001C7.33818 1.24999 7.56433 1.24998 7.78542 1.27065C8.7367 1.35961 9.63905 1.73337 10.3746 2.34313C10.5456 2.48485 10.7055 2.64477 10.954 2.89329L11.5303 3.46969C12.3761 4.3154 12.7012 4.6311 13.0768 4.84005C13.2948 4.96134 13.526 5.05713 13.766 5.12552C14.1793 5.24333 14.6324 5.25002 15.8284 5.25002L16.253 5.25002C17.526 5.25 18.5521 5.24998 19.364 5.35206C20.2054 5.45784 20.9204 5.68358 21.5077 6.21185C21.6061 6.30032 21.6997 6.39394 21.7882 6.49231C22.3165 7.07965 22.5422 7.79459 22.648 8.63601C22.75 9.4479 22.75 10.4741 22.75 11.747V14.0564C22.75 15.8942 22.75 17.3498 22.5969 18.489C22.4393 19.6615 22.1071 20.6104 21.3588 21.3588C20.6104 22.1071 19.6615 22.4393 18.489 22.5969C17.3498 22.75 15.8942 22.75 14.0564 22.75H9.94361C8.10584 22.75 6.65021 22.75 5.51099 22.5969C4.33857 22.4393 3.38962 22.1071 2.64126 21.3588C1.8929 20.6104 1.56078 19.6615 1.40315 18.489C1.24999 17.3498 1.25 15.8942 1.25002 14.0564L1.25002 6.94976C1.25002 6.91919 1.25001 6.88904 1.25001 6.85929C1.2499 6.06338 1.24982 5.55685 1.33237 5.11935C1.6949 3.19788 3.19788 1.6949 5.11935 1.33237C5.55685 1.24982 6.06338 1.2499 6.85929 1.25001ZM6.94976 2.75002C6.03312 2.75002 5.67873 2.75329 5.39746 2.80636C4.08277 3.05441 3.05441 4.08277 2.80636 5.39746C2.75329 5.67873 2.75002 6.03312 2.75002 6.94976V14C2.75002 15.9068 2.75161 17.2615 2.88978 18.2892C3.02504 19.2953 3.27871 19.8749 3.70192 20.2981C4.12513 20.7213 4.70478 20.975 5.71087 21.1103C6.73853 21.2484 8.0932 21.25 10 21.25H14C15.9068 21.25 17.2615 21.2484 18.2892 21.1103C19.2953 20.975 19.8749 20.7213 20.2981 20.2981C20.7213 19.8749 20.975 19.2953 21.1103 18.2892C21.2484 17.2615 21.25 15.9068 21.25 14V11.7979C21.25 10.4621 21.2486 9.5305 21.1597 8.82312C21.0731 8.13448 20.9141 7.76356 20.6729 7.49539C20.6198 7.43637 20.5637 7.3802 20.5046 7.32712C20.2365 7.08592 19.8656 6.92692 19.1769 6.84034C18.4695 6.75141 17.538 6.75002 16.2021 6.75002H15.8284C15.7912 6.75002 15.7545 6.75002 15.7182 6.75003C14.6702 6.75025 13.9944 6.75038 13.3548 6.56806C13.0041 6.46811 12.6661 6.32811 12.3475 6.15083C11.7663 5.82747 11.2885 5.3495 10.5476 4.60833C10.522 4.58265 10.496 4.55666 10.4697 4.53035L9.91943 3.98009C9.63616 3.69682 9.52778 3.58951 9.41731 3.49793C8.91403 3.08073 8.29664 2.825 7.64576 2.76413C7.50289 2.75077 7.35038 2.75002 6.94976 2.75002ZM12 11.25C12.4142 11.25 12.75 11.5858 12.75 12V13.25H14C14.4142 13.25 14.75 13.5858 14.75 14C14.75 14.4142 14.4142 14.75 14 14.75H12.75V16C12.75 16.4142 12.4142 16.75 12 16.75C11.5858 16.75 11.25 16.4142 11.25 16V14.75H10C9.5858 14.75 9.25002 14.4142 9.25002 14C9.25002 13.5858 9.5858 13.25 10 13.25H11.25V12C11.25 11.5858 11.5858 11.25 12 11.25Z" fill="#1C274C"/>
                                                                                        </svg>
                                                                                        
                                                                                </button>
    
                                                                            </div>
                                                                           
                                                
                                                                        </div>
                                                                    </div>
                                                                </ng-container> -->
                                                                        <ng-container>
                                                                            <div class="absolute bottom-0 left-0 w-full p-4"
                                                                                style="margin-bottom: -6%;padding: 3%;">
                                                                                <div
                                                                                    class="w-full items-center space-x-3 rtl:space-x-reverse sm:flex">

                                                                                    <div class="relative flex-1">
                                                                                        <input
                                                                                            class="form-input rounded-full border-0 bg-[#f4f4f4] px-12 py-2 focus:outline-none"
                                                                                            placeholder="Type a message"
                                                                                            [(ngModel)]="textMessage"
                                                                                            name="textMessage" style="margin-left: -4%;
                                                                                    background-color: #f4f4f4;
                                                                                    width: 105%;"
                                                                                            (keyup.enter)="onEnter($event)"
                                                                                            (paste)="ImageHandler($event)" />


                                                                                        <button
                                                                                            (click)="sendMessage(textMessage,0)"
                                                                                            type="button"
                                                                                            class="absolute top-1/2 -translate-y-1/2 hover:text-primary ltr:right-4 rtl:left-4">
                                                                                            <svg width="24" height="24"
                                                                                                viewBox="0 0 24 24"
                                                                                                fill="none"
                                                                                                xmlns="http://www.w3.org/2000/svg"
                                                                                                class="h-5 w-5">
                                                                                                <path
                                                                                                    d="M17.4975 18.4851L20.6281 9.09373C21.8764 5.34874 22.5006 3.47624 21.5122 2.48782C20.5237 1.49939 18.6511 2.12356 14.906 3.37189L5.57477 6.48218C3.49295 7.1761 2.45203 7.52305 2.13608 8.28637C2.06182 8.46577 2.01692 8.65596 2.00311 8.84963C1.94433 9.67365 2.72018 10.4495 4.27188 12.0011L4.55451 12.2837C4.80921 12.5384 4.93655 12.6658 5.03282 12.8075C5.22269 13.0871 5.33046 13.4143 5.34393 13.7519C5.35076 13.9232 5.32403 14.1013 5.27057 14.4574C5.07488 15.7612 4.97703 16.4131 5.0923 16.9147C5.32205 17.9146 6.09599 18.6995 7.09257 18.9433C7.59255 19.0656 8.24576 18.977 9.5522 18.7997L9.62363 18.79C9.99191 18.74 10.1761 18.715 10.3529 18.7257C10.6738 18.745 10.9838 18.8496 11.251 19.0285C11.3981 19.1271 11.5295 19.2585 11.7923 19.5213L12.0436 19.7725C13.5539 21.2828 14.309 22.0379 15.1101 21.9985C15.3309 21.9877 15.5479 21.9365 15.7503 21.8474C16.4844 21.5244 16.8221 20.5113 17.4975 18.4851Z"
                                                                                                    stroke="currentColor"
                                                                                                    stroke-width="1.5" />
                                                                                                <path opacity="0.5"
                                                                                                    d="M6 18L21 3"
                                                                                                    stroke="currentColor"
                                                                                                    stroke-width="1.5"
                                                                                                    stroke-linecap="round" />
                                                                                            </svg>
                                                                                        </button>

                                                                                    </div>
                                                                                    <div
                                                                                        class="hidden items-center space-x-3 py-3 rtl:space-x-reverse sm:block sm:py-0">

                                                                                        <ng-container>

                                                                                            <input id="fileImage"
                                                                                                style="display: none;"
                                                                                                #fileImage type="file"
                                                                                                (change)="onFileChanged($event)"
                                                                                                accept="image/*" />
                                                                                            <button type="button"
                                                                                                class="rounded-md bg-[#ffff] p-2 hover:bg-primary-light hover:text-primary dark:bg-[#ffff]"
                                                                                                (click)="fileImage.click()"
                                                                                                [disabled]="c_img_loader==true">
                                                                                                <svg width="24"
                                                                                                    height="24"
                                                                                                    viewBox="0 0 24 24"
                                                                                                    fill="none"
                                                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                                                    ngxTippy="Upload Image">
                                                                                                    <path
                                                                                                        d="M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2"
                                                                                                        stroke="#1C274C"
                                                                                                        stroke-width="1.5"
                                                                                                        stroke-linecap="round" />
                                                                                                    <path opacity="0.5"
                                                                                                        d="M2 12.5001L3.75159 10.9675C4.66286 10.1702 6.03628 10.2159 6.89249 11.0721L11.1822 15.3618C11.8694 16.0491 12.9512 16.1428 13.7464 15.5839L14.0446 15.3744C15.1888 14.5702 16.7369 14.6634 17.7765 15.599L21 18.5001"
                                                                                                        stroke="#1C274C"
                                                                                                        stroke-width="1.5"
                                                                                                        stroke-linecap="round" />
                                                                                                    <path
                                                                                                        d="M17 2V11M17 2L20 5M17 2L14 5"
                                                                                                        stroke="#1C274C"
                                                                                                        stroke-width="1.5"
                                                                                                        stroke-linecap="round"
                                                                                                        stroke-linejoin="round" />
                                                                                                </svg>
                                                                                            </button>
                                                                                        </ng-container>


                                                                                    </div>
                                                                                    <div
                                                                                        class="hidden items-center space-x-3 py-3 rtl:space-x-reverse sm:block sm:py-0">
                                                                                        <input id="fileAudio" #fileAudio
                                                                                            type="file"
                                                                                            (change)="onFile_doc_Changed($event)"
                                                                                            accept=".pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                                                                                            style="display: none;" />

                                                                                        <button type="button"
                                                                                            class="rounded-md bg-[#ffff] p-2 hover:bg-primary-light hover:text-primary dark:bg-[#ffff]"
                                                                                            (click)="fileAudio.click()"
                                                                                            [disabled]="c_aud_loader==true">
                                                                                            <svg width="24" height="24"
                                                                                                viewBox="0 0 24 24"
                                                                                                fill="none"
                                                                                                xmlns="http://www.w3.org/2000/svg">
                                                                                                <path
                                                                                                    fill-rule="evenodd"
                                                                                                    clip-rule="evenodd"
                                                                                                    d="M6.85929 1.25001C6.88904 1.25001 6.91919 1.25002 6.94976 1.25002L6.98675 1.25001C7.33818 1.24999 7.56433 1.24998 7.78542 1.27065C8.7367 1.35961 9.63905 1.73337 10.3746 2.34313C10.5456 2.48485 10.7055 2.64477 10.954 2.89329L11.5303 3.46969C12.3761 4.3154 12.7012 4.6311 13.0768 4.84005C13.2948 4.96134 13.526 5.05713 13.766 5.12552C14.1793 5.24333 14.6324 5.25002 15.8284 5.25002L16.253 5.25002C17.526 5.25 18.5521 5.24998 19.364 5.35206C20.2054 5.45784 20.9204 5.68358 21.5077 6.21185C21.6061 6.30032 21.6997 6.39394 21.7882 6.49231C22.3165 7.07965 22.5422 7.79459 22.648 8.63601C22.75 9.4479 22.75 10.4741 22.75 11.747V14.0564C22.75 15.8942 22.75 17.3498 22.5969 18.489C22.4393 19.6615 22.1071 20.6104 21.3588 21.3588C20.6104 22.1071 19.6615 22.4393 18.489 22.5969C17.3498 22.75 15.8942 22.75 14.0564 22.75H9.94361C8.10584 22.75 6.65021 22.75 5.51099 22.5969C4.33857 22.4393 3.38962 22.1071 2.64126 21.3588C1.8929 20.6104 1.56078 19.6615 1.40315 18.489C1.24999 17.3498 1.25 15.8942 1.25002 14.0564L1.25002 6.94976C1.25002 6.91919 1.25001 6.88904 1.25001 6.85929C1.2499 6.06338 1.24982 5.55685 1.33237 5.11935C1.6949 3.19788 3.19788 1.6949 5.11935 1.33237C5.55685 1.24982 6.06338 1.2499 6.85929 1.25001ZM6.94976 2.75002C6.03312 2.75002 5.67873 2.75329 5.39746 2.80636C4.08277 3.05441 3.05441 4.08277 2.80636 5.39746C2.75329 5.67873 2.75002 6.03312 2.75002 6.94976V14C2.75002 15.9068 2.75161 17.2615 2.88978 18.2892C3.02504 19.2953 3.27871 19.8749 3.70192 20.2981C4.12513 20.7213 4.70478 20.975 5.71087 21.1103C6.73853 21.2484 8.0932 21.25 10 21.25H14C15.9068 21.25 17.2615 21.2484 18.2892 21.1103C19.2953 20.975 19.8749 20.7213 20.2981 20.2981C20.7213 19.8749 20.975 19.2953 21.1103 18.2892C21.2484 17.2615 21.25 15.9068 21.25 14V11.7979C21.25 10.4621 21.2486 9.5305 21.1597 8.82312C21.0731 8.13448 20.9141 7.76356 20.6729 7.49539C20.6198 7.43637 20.5637 7.3802 20.5046 7.32712C20.2365 7.08592 19.8656 6.92692 19.1769 6.84034C18.4695 6.75141 17.538 6.75002 16.2021 6.75002H15.8284C15.7912 6.75002 15.7545 6.75002 15.7182 6.75003C14.6702 6.75025 13.9944 6.75038 13.3548 6.56806C13.0041 6.46811 12.6661 6.32811 12.3475 6.15083C11.7663 5.82747 11.2885 5.3495 10.5476 4.60833C10.522 4.58265 10.496 4.55666 10.4697 4.53035L9.91943 3.98009C9.63616 3.69682 9.52778 3.58951 9.41731 3.49793C8.91403 3.08073 8.29664 2.825 7.64576 2.76413C7.50289 2.75077 7.35038 2.75002 6.94976 2.75002ZM12 11.25C12.4142 11.25 12.75 11.5858 12.75 12V13.25H14C14.4142 13.25 14.75 13.5858 14.75 14C14.75 14.4142 14.4142 14.75 14 14.75H12.75V16C12.75 16.4142 12.4142 16.75 12 16.75C11.5858 16.75 11.25 16.4142 11.25 16V14.75H10C9.5858 14.75 9.25002 14.4142 9.25002 14C9.25002 13.5858 9.5858 13.25 10 13.25H11.25V12C11.25 11.5858 11.5858 11.25 12 11.25Z"
                                                                                                    fill="#1C274C" />
                                                                                            </svg>

                                                                                        </button>

                                                                                    </div>


                                                                                </div>
                                                                            </div>
                                                                        </ng-container>
                                                                    </div>
                                                                </ng-container>
                                                            </ng-container>


                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="rounded border border-[#d3d3d3] dark:border-[#1b2e4b]">
                                <button type="button"
                                    class="flex w-full items-center p-4 text-white-dark dark:bg-[#1b2e4b]"
                                    [ngClass]="{ '!text-primary': accordians3 === 3 }"
                                    (click)="accordians3 === 3 ? (accordians3 = null) : (accordians3 = 3)">

                                    <svg width="24" height="24" class="h-5 w-5 shrink-0 text-primary ltr:mr-2 rtl:ml-2"
                                        viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M10.9436 1.25H13.0564C14.8942 1.24998 16.3498 1.24997 17.489 1.40314C18.6614 1.56076 19.6104 1.89288 20.3588 2.64124C20.6516 2.93414 20.6516 3.40901 20.3588 3.7019C20.0659 3.9948 19.591 3.9948 19.2981 3.7019C18.8749 3.27869 18.2952 3.02502 17.2892 2.88976C16.2615 2.75159 14.9068 2.75 13 2.75H11C9.09318 2.75 7.73851 2.75159 6.71085 2.88976C5.70476 3.02502 5.12511 3.27869 4.7019 3.7019C4.27869 4.12511 4.02502 4.70476 3.88976 5.71085C3.75159 6.73851 3.75 8.09318 3.75 10V14C3.75 15.9068 3.75159 17.2615 3.88976 18.2892C4.02502 19.2952 4.27869 19.8749 4.7019 20.2981C5.12511 20.7213 5.70476 20.975 6.71085 21.1102C7.73851 21.2484 9.09318 21.25 11 21.25H13C14.9068 21.25 16.2615 21.2484 17.2892 21.1102C18.2952 20.975 18.8749 20.7213 19.2981 20.2981C19.994 19.6022 20.2048 18.5208 20.2414 15.9892C20.2474 15.575 20.588 15.2441 21.0022 15.2501C21.4163 15.2561 21.7472 15.5967 21.7412 16.0108C21.7061 18.4383 21.549 20.1685 20.3588 21.3588C19.6104 22.1071 18.6614 22.4392 17.489 22.5969C16.3498 22.75 14.8942 22.75 13.0564 22.75H10.9436C9.10583 22.75 7.65019 22.75 6.51098 22.5969C5.33856 22.4392 4.38961 22.1071 3.64124 21.3588C2.89288 20.6104 2.56076 19.6614 2.40314 18.489C2.24997 17.3498 2.24998 15.8942 2.25 14.0564V9.94358C2.24998 8.10582 2.24997 6.65019 2.40314 5.51098C2.56076 4.33856 2.89288 3.38961 3.64124 2.64124C4.38961 1.89288 5.33856 1.56076 6.51098 1.40314C7.65019 1.24997 9.10582 1.24998 10.9436 1.25ZM18.1131 7.04556C19.1739 5.98481 20.8937 5.98481 21.9544 7.04556C23.0152 8.1063 23.0152 9.82611 21.9544 10.8869L17.1991 15.6422C16.9404 15.901 16.7654 16.076 16.5693 16.2289C16.3387 16.4088 16.0892 16.563 15.8252 16.6889C15.6007 16.7958 15.3659 16.8741 15.0187 16.9897L12.9351 17.6843C12.4751 17.8376 11.9679 17.7179 11.625 17.375C11.2821 17.0321 11.1624 16.5249 11.3157 16.0649L11.9963 14.0232C12.001 14.0091 12.0056 13.9951 12.0102 13.9813C12.1259 13.6342 12.2042 13.3993 12.3111 13.1748C12.437 12.9108 12.5912 12.6613 12.7711 12.4307C12.924 12.2346 13.099 12.0596 13.3578 11.8009C13.3681 11.7906 13.3785 11.7802 13.3891 11.7696L18.1131 7.04556ZM20.8938 8.10622C20.4188 7.63126 19.6488 7.63126 19.1738 8.10622L18.992 8.288C19.0019 8.32149 19.0132 8.3571 19.0262 8.39452C19.1202 8.66565 19.2988 9.02427 19.6372 9.36276C19.9757 9.70125 20.3343 9.87975 20.6055 9.97382C20.6429 9.9868 20.6785 9.99812 20.712 10.008L20.8938 9.8262C21.3687 9.35124 21.3687 8.58118 20.8938 8.10622ZM19.5664 11.1536C19.2485 10.9866 18.9053 10.7521 18.5766 10.4234C18.2479 10.0947 18.0134 9.75146 17.8464 9.43357L14.4497 12.8303C14.1487 13.1314 14.043 13.2388 13.9538 13.3532C13.841 13.4979 13.7442 13.6545 13.6652 13.8202C13.6028 13.9511 13.5539 14.0936 13.4193 14.4976L13.019 15.6985L13.3015 15.981L14.5024 15.5807C14.9064 15.4461 15.0489 15.3972 15.1798 15.3348C15.3455 15.2558 15.5021 15.159 15.6468 15.0462C15.7612 14.957 15.8686 14.8513 16.1697 14.5503L19.5664 11.1536ZM7.25 9C7.25 8.58579 7.58579 8.25 8 8.25H14.5C14.9142 8.25 15.25 8.58579 15.25 9C15.25 9.41421 14.9142 9.75 14.5 9.75H8C7.58579 9.75 7.25 9.41421 7.25 9ZM7.25 13C7.25 12.5858 7.58579 12.25 8 12.25H10.5C10.9142 12.25 11.25 12.5858 11.25 13C11.25 13.4142 10.9142 13.75 10.5 13.75H8C7.58579 13.75 7.25 13.4142 7.25 13ZM7.25 17C7.25 16.5858 7.58579 16.25 8 16.25H9.5C9.91421 16.25 10.25 16.5858 10.25 17C10.25 17.4142 9.91421 17.75 9.5 17.75H8C7.58579 17.75 7.25 17.4142 7.25 17Z"
                                            fill="#1C274C" />
                                    </svg>

                                    {{'Work'|translate}}{{'status'|translate}}
                                    <div class="ltr:ml-auto rtl:mr-auto"
                                        [ngClass]="{ 'rotate-180': accordians3 === 3 }">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg" class="h-4 w-4">
                                            <path d="M19 9L12 15L5 9" stroke="currentColor" stroke-width="1.5"
                                                stroke-linecap="round" stroke-linejoin="round" />
                                        </svg>
                                    </div>
                                </button>
                                <div [@slideDownUp]="accordians3 !== 3" class="accordion-content">
                                    <div class="border-t border-[#d3d3d3] p-4 text-[13px] dark:border-[#1b2e4b]">
                                        <ng-container>
                                            <div class="grid grid-cols-1 gap-6 lg:grid-cols-2">
                                                <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
                                                    <div class=" flex flex-col gap-5 md:flex-row md:items-center">

                                                        <div class="ltr:ml-auto rtl:mr-auto">
                                                            <div class="text-lg font-semibold f_color"
                                                                style="font-size: 25px;">{{'Work Status'|translate}} :-
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
                                                    <div class=" flex flex-col gap-5 md:flex-row md:items-center">



                                                    </div>
                                                    <div class="flex-1">

                                                        <div class="flex w-full flex-wrap justify-around gap-7">
                                                            <div hlMenu class="dropdown">
                                                            </div>
                                                            <div hlMenu class="dropdown">
                                                                <button type="button"
                                                                    (click)="tab10 = 'chat';accordians3 = 2;"
                                                                    class="btn btn-primary w-10 h-10 p-0 rounded-full"
                                                                    ngxTippy="Select to chat with customer">
                                                                    <svg width="24" height="24" viewBox="0 0 24 24"
                                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <path
                                                                            d="M9 12C9 12.5523 8.55228 13 8 13C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11C8.55228 11 9 11.4477 9 12Z"
                                                                            fill="#fff" />
                                                                        <path
                                                                            d="M13 12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12C11 11.4477 11.4477 11 12 11C12.5523 11 13 11.4477 13 12Z"
                                                                            fill="#fff" />
                                                                        <path
                                                                            d="M17 12C17 12.5523 16.5523 13 16 13C15.4477 13 15 12.5523 15 12C15 11.4477 15.4477 11 16 11C16.5523 11 17 11.4477 17 12Z"
                                                                            fill="#fff" />
                                                                        <path
                                                                            d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 13.5997 2.37562 15.1116 3.04346 16.4525C3.22094 16.8088 3.28001 17.2161 3.17712 17.6006L2.58151 19.8267C2.32295 20.793 3.20701 21.677 4.17335 21.4185L6.39939 20.8229C6.78393 20.72 7.19121 20.7791 7.54753 20.9565C8.88837 21.6244 10.4003 22 12 22Z"
                                                                            stroke="#fff" stroke-width="1.5" />
                                                                    </svg>
                                                                </button>
                                                            </div>

                                                        </div>
                                                    </div>


                                                </div>

                                            </div>

                                            <br>
                                            <div class="w-full" *ngIf="request_details.serm_vendor_flag==1">
                                                <div class="mb-5 grid grid-cols-1 gap-5 lg:grid-cols-2">
                                                    <div
                                                        class="relative flex items-center rounded border border-warning bg-warning-light p-3.5 text-warning ltr:border-l-[64px] rtl:border-r-[64px] dark:bg-warning-dark-light">
                                                        <span
                                                            class="absolute inset-y-0 m-auto h-6 w-6 text-white ltr:-left-11 rtl:-right-11">
                                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg" class="h-6 w-6">
                                                                <path opacity="0.5"
                                                                    d="M5.31171 10.7615C8.23007 5.58716 9.68925 3 12 3C14.3107 3 15.7699 5.58716 18.6883 10.7615L19.0519 11.4063C21.4771 15.7061 22.6897 17.856 21.5937 19.428C20.4978 21 17.7864 21 12.3637 21H11.6363C6.21356 21 3.50217 21 2.40626 19.428C1.31034 17.856 2.52291 15.7061 4.94805 11.4063L5.31171 10.7615Z"
                                                                    stroke="currentColor" stroke-width="1.5" />
                                                                <path d="M12 8V13" stroke="currentColor"
                                                                    stroke-width="1.5" stroke-linecap="round" />
                                                                <circle cx="12" cy="16" r="1" fill="currentColor" />
                                                            </svg>
                                                        </span>
                                                        <span class="ltr:pr-2 rtl:pl-2"><strong
                                                                class="ltr:mr-1 rtl:ml-1">Expert
                                                                Request!</strong>Request is assigned to expert <strong
                                                                class="ltr:mr-1 rtl:ml-1">{{request_details.expert_details.cstm_name}}!</strong>.</span>
                                                        <button type="button"
                                                            class="btn btn-warning btn-sm ltr:ml-auto rtl:mr-auto"
                                                            (click)="viewExpertDetails(request_details.expert_details.cstm_id)">
                                                            View Details
                                                        </button>
                                                    </div>

                                                </div>
                                            </div>
                                            <br>
                                            <div class="w-full lg:w-1/2"
                                                *ngIf="request_details.serm_status == 56 && request_details.serm_reopen_by==1">
                                                <label name="purpose">Reopen Reason</label>
                                                <input type="text" class="form-input min-w-[200px]"
                                                    [(ngModel)]="request_details.serm_reopen_desc" [disabled]="true" />
                                            </div>
                                            <div class="w-full lg:w-1/2"
                                                *ngIf="request_details.serm_hold_flag==0 && request_details.serm_status!=56">
                                                <div class="mt-4 flex items-center">
                                                    <div class="flex items-center justify-center">
                                                        <button type="button" class="btn" (click)="message.open()"
                                                            style="width: 100%;background-color: #F49D1A;color: white;"
                                                            [disabled]="app_workcard.am_status==0">
                                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                                                                viewBox="0 0 24 24" height="24" width="24">
                                                                <path fill="#F2FFE9"
                                                                    d="M12.0001 22.0001C16.9707 22.0001 21.0001 17.9707 21.0001 13.0001C21.0001 8.02954 16.9707 4.0001 12.0001 4.0001C7.02954 4.0001 3.0001 8.02954 3.0001 13.0001C3.0001 17.9707 7.02954 22.0001 12.0001 22.0001ZM13.0262 10.275C12.7889 10.1084 12.5202 9.93607 12.242 9.76689C11.1696 9.11476 10.6334 8.78869 10.1525 9.1497C9.6716 9.51071 9.6279 10.2665 9.54048 11.7779C9.51576 12.2054 9.5001 12.6244 9.5001 13.0001C9.5001 13.3758 9.51576 13.7948 9.54048 14.2223C9.62789 15.7337 9.6716 16.4895 10.1525 16.8505C10.6334 17.2115 11.1696 16.8854 12.242 16.2333C12.5202 16.0641 12.7889 15.8918 13.0262 15.7252C13.2967 15.5353 13.591 15.3074 13.8877 15.0653C14.9626 14.1884 15.5001 13.75 15.5001 13.0001C15.5001 12.2502 14.9626 11.8118 13.8877 10.9349C13.591 10.6928 13.2967 10.4649 13.0262 10.275Z"
                                                                    clip-rule="evenodd" fill-rule="evenodd"></path>
                                                                <path fill="#F2FFE9"
                                                                    d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                    clip-rule="evenodd" fill-rule="evenodd"></path>
                                                            </svg>
                                                            {{"Hold Workcard"|translate}}</button>

                                                        <modal #message>
                                                            <ng-template #modalHeader>
                                                                <div>{{'Hold Workcard'|translate}} </div>
                                                            </ng-template>
                                                            <ng-template #modalBody>
                                                                <div class="panel">
                                                                    <div
                                                                        class="mb-6 w-full lg:w-1/2 ltr:lg:mr-6 rtl:lg:ml-6">
                                                                        <div class="container">

                                                                            <b> {{'Enter Reason'|translate}}</b>
                                                                            <textarea class="form-textarea mt-4"
                                                                                placeholder="Enter Hold Reason"
                                                                                [(ngModel)]="hold_reason"
                                                                                name="hold_reason"></textarea>
                                                                            <span *ngIf="!hold_reason"
                                                                                style="color: red;font-size:13px;"><i><b>*{{'Please
                                                                                        enter Hold
                                                                                        Reason'|translate}}.</b></i></span>


                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </ng-template>
                                                            <ng-template #modalFooter>
                                                                <button type="button" (click)="message.close()"
                                                                    class="btn btn-danger">{{'Close'|translate}}</button>
                                                                &nbsp;
                                                                <!-- *ngIf="hold_reason" -->
                                                                <button type="button" class="btn"
                                                                    (click)="workcardhold(request_details.serm_id,1,app_workcard.am_id,0)"
                                                                    style="background-color: #F49D1A;color: white;"
                                                                    [disabled]="hold_reason == ''|| hold_reason == null|| wokCardHoldFlag">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                                                                        viewBox="0 0 24 24" height="24" width="24">
                                                                        <path fill="#F2FFE9"
                                                                            d="M12.0001 22.0001C16.9707 22.0001 21.0001 17.9707 21.0001 13.0001C21.0001 8.02954 16.9707 4.0001 12.0001 4.0001C7.02954 4.0001 3.0001 8.02954 3.0001 13.0001C3.0001 17.9707 7.02954 22.0001 12.0001 22.0001ZM13.0262 10.275C12.7889 10.1084 12.5202 9.93607 12.242 9.76689C11.1696 9.11476 10.6334 8.78869 10.1525 9.1497C9.6716 9.51071 9.6279 10.2665 9.54048 11.7779C9.51576 12.2054 9.5001 12.6244 9.5001 13.0001C9.5001 13.3758 9.51576 13.7948 9.54048 14.2223C9.62789 15.7337 9.6716 16.4895 10.1525 16.8505C10.6334 17.2115 11.1696 16.8854 12.242 16.2333C12.5202 16.0641 12.7889 15.8918 13.0262 15.7252C13.2967 15.5353 13.591 15.3074 13.8877 15.0653C14.9626 14.1884 15.5001 13.75 15.5001 13.0001C15.5001 12.2502 14.9626 11.8118 13.8877 10.9349C13.591 10.6928 13.2967 10.4649 13.0262 10.275Z"
                                                                            clip-rule="evenodd" fill-rule="evenodd">
                                                                        </path>
                                                                        <path fill="#F2FFE9"
                                                                            d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                            clip-rule="evenodd" fill-rule="evenodd">
                                                                        </path>
                                                                    </svg>
                                                                    {{'Hold Workcard'|translate}}
                                                                    <span
                                                                        class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                                                                        *ngIf="wokCardHoldFlag"><svg viewBox="0 0 24 24"
                                                                            width="24" height="24" stroke="currentColor"
                                                                            stroke-width="1.5" fill="none"
                                                                            stroke-linecap="round"
                                                                            stroke-linejoin="round"
                                                                            class="inline-block h-5 w-5 shrink-0 animate-[spin_2s_linear_infinite] align-middle">
                                                                            <line x1="12" y1="2" x2="12" y2="6"></line>
                                                                            <line x1="12" y1="18" x2="12" y2="22">
                                                                            </line>
                                                                            <line x1="4.93" y1="4.93" x2="7.76"
                                                                                y2="7.76"></line>
                                                                            <line x1="16.24" y1="16.24" x2="19.07"
                                                                                y2="19.07"></line>
                                                                            <line x1="2" y1="12" x2="6" y2="12"></line>
                                                                            <line x1="18" y1="12" x2="22" y2="12">
                                                                            </line>
                                                                            <line x1="4.93" y1="19.07" x2="7.76"
                                                                                y2="16.24"></line>
                                                                            <line x1="16.24" y1="7.76" x2="19.07"
                                                                                y2="4.93"></line>
                                                                        </svg></span></button>
                                                                <!-- <button type="button" class="btn" *ngIf="!hold_reason"
                                                                    (click)="workcardhold(request_details.serm_id,1,app_workcard.am_id,0)"
                                                                    style="background-color: #794600;color: white;" disabled>
                                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                                        height="24" width="24">
                                                                        <path fill="#F2FFE9"
                                                                            d="M12.0001 22.0001C16.9707 22.0001 21.0001 17.9707 21.0001 13.0001C21.0001 8.02954 16.9707 4.0001 12.0001 4.0001C7.02954 4.0001 3.0001 8.02954 3.0001 13.0001C3.0001 17.9707 7.02954 22.0001 12.0001 22.0001ZM13.0262 10.275C12.7889 10.1084 12.5202 9.93607 12.242 9.76689C11.1696 9.11476 10.6334 8.78869 10.1525 9.1497C9.6716 9.51071 9.6279 10.2665 9.54048 11.7779C9.51576 12.2054 9.5001 12.6244 9.5001 13.0001C9.5001 13.3758 9.51576 13.7948 9.54048 14.2223C9.62789 15.7337 9.6716 16.4895 10.1525 16.8505C10.6334 17.2115 11.1696 16.8854 12.242 16.2333C12.5202 16.0641 12.7889 15.8918 13.0262 15.7252C13.2967 15.5353 13.591 15.3074 13.8877 15.0653C14.9626 14.1884 15.5001 13.75 15.5001 13.0001C15.5001 12.2502 14.9626 11.8118 13.8877 10.9349C13.591 10.6928 13.2967 10.4649 13.0262 10.275Z"
                                                                            clip-rule="evenodd" fill-rule="evenodd"></path>
                                                                        <path fill="#F2FFE9"
                                                                            d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                            clip-rule="evenodd" fill-rule="evenodd"></path>
                                                                    </svg>
                                                                    {{'Hold Workcard'|translate}}</button> -->
                                                            </ng-template>
                                                        </modal>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="w-full lg:w-1/2" *ngIf="request_details.serm_hold_flag==1">
                                                <div class="mt-4 flex items-center">
                                                    <div class="flex items-center justify-center">
                                                        <button type="button" class="btn btn-success"
                                                            (click)="workcard_unhold(request_details.serm_id,1,this.app_workcard.am_id)"
                                                            style="width: 100%;background-color: #54B435;color: #F2FFE9;"
                                                            [disabled]="app_workcard.am_status==0||workCard_Unhold_Flag">
                                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                                                                viewBox="0 0 24 24" height="24" width="24">
                                                                <path fill="#b3ffae"
                                                                    d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                    clip-rule="evenodd" fill-rule="evenodd"></path>
                                                                <path fill="#b3ffae"
                                                                    d="M21.0001 13.0001C21.0001 17.9707 16.9707 22.0001 12.0001 22.0001C7.02954 22.0001 3.0001 17.9707 3.0001 13.0001C3.0001 8.02954 7.02954 4.0001 12.0001 4.0001C16.9707 4.0001 21.0001 8.02954 21.0001 13.0001ZM16.0001 15.5001C16.0001 15.966 16.0001 16.199 15.924 16.3828C15.8225 16.6278 15.6278 16.8225 15.3828 16.924C15.199 17.0001 14.966 17.0001 14.5001 17.0001C14.0342 17.0001 13.8012 17.0001 13.6174 16.924C13.3724 16.8225 13.1777 16.6278 13.0762 16.3828C13.0001 16.199 13.0001 15.966 13.0001 15.5001V10.5001C13.0001 10.0342 13.0001 9.80119 13.0762 9.61742C13.1777 9.37239 13.3724 9.17771 13.6174 9.07622C13.8012 9.0001 14.0342 9.0001 14.5001 9.0001C14.966 9.0001 15.199 9.0001 15.3828 9.07622C15.6278 9.17771 15.8225 9.37239 15.924 9.61742C16.0001 9.80119 16.0001 10.0342 16.0001 10.5001V15.5001ZM11.0001 15.5001V10.5001C11.0001 10.0342 11.0001 9.80119 10.924 9.61742C10.8225 9.37239 10.6278 9.17771 10.3828 9.07622C10.199 9.0001 9.96604 9.0001 9.5001 9.0001C9.03416 9.0001 8.80119 9.0001 8.61742 9.07622C8.37239 9.17771 8.17771 9.37239 8.07622 9.61742C8.0001 9.80119 8.0001 10.0342 8.0001 10.5001V15.5001C8.0001 15.966 8.0001 16.199 8.07622 16.3828C8.17771 16.6278 8.37239 16.8225 8.61742 16.924C8.80119 17.0001 9.03416 17.0001 9.5001 17.0001C9.96604 17.0001 10.199 17.0001 10.3828 16.924C10.6278 16.8225 10.8225 16.6278 10.924 16.3828C11.0001 16.199 11.0001 15.966 11.0001 15.5001Z"
                                                                    clip-rule="evenodd" fill-rule="evenodd"></path>
                                                            </svg>
                                                            {{'Unhold Workcard'|translate}}
                                                            <span
                                                                class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                                                                *ngIf="workCard_Unhold_Flag"><svg viewBox="0 0 24 24"
                                                                    width="24" height="24" stroke="currentColor"
                                                                    stroke-width="1.5" fill="none"
                                                                    stroke-linecap="round" stroke-linejoin="round"
                                                                    class="inline-block h-5 w-5 shrink-0 animate-[spin_2s_linear_infinite] align-middle">
                                                                    <line x1="12" y1="2" x2="12" y2="6"></line>
                                                                    <line x1="12" y1="18" x2="12" y2="22"></line>
                                                                    <line x1="4.93" y1="4.93" x2="7.76" y2="7.76">
                                                                    </line>
                                                                    <line x1="16.24" y1="16.24" x2="19.07" y2="19.07">
                                                                    </line>
                                                                    <line x1="2" y1="12" x2="6" y2="12"></line>
                                                                    <line x1="18" y1="12" x2="22" y2="12"></line>
                                                                    <line x1="4.93" y1="19.07" x2="7.76" y2="16.24">
                                                                    </line>
                                                                    <line x1="16.24" y1="7.76" x2="19.07" y2="4.93">
                                                                    </line>
                                                                </svg></span>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>



                                            <ng-container *ngIf="request_details.serm_hold_flag==1">
                                                <div class="w-full lg:w-1/2" *ngIf="app_workcard.am_requestedby!=0">
                                                    <div class="mt-4 flex items-center">
                                                        <div class="flex items-center justify-center"><span
                                                                class="badge badge-outline-warning">
                                                                {{'WorkCard Holded By customer'|translate}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="w-full lg:w-1/2" *ngIf="app_workcard.am_requestedby==0">
                                                    <div class="mt-4 flex items-center">
                                                        <div class="flex items-center justify-center"><span
                                                                class="badge badge-outline-warning">
                                                                {{'WorkCard Holded By USER'|translate}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-container>




                                            <div class="mt-8">
                                                <div class="table-responsive">
                                                    <table class="table table-hover">
                                                        <thead>
                                                            <tr>
                                                                <th>{{'Service'|translate}}</th>

                                                                <th *ngIf="request_details.serm_status==28">
                                                                    {{'Status'|translate}}</th>

                                                                <th></th>
                                                                <th class="w-1"></th>
                                                                <th class="w-1"></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody *ngIf="services&&services.length">
                                                            <ng-container *ngFor="let item of services; index as i">
                                                                <ng-container *ngIf="item.sitem_type==0">
                                                                    <!-- completed -->
                                                                    <tr class="align-top"
                                                                        *ngIf="item.sitem_status_flag==2||item.sitem_status_flag==6">
                                                                        <td>
                                                                            <ng-container
                                                                                *ngIf="request_details.serm_vendor_flag==0">
                                                                                <input type="text"
                                                                                    class="form-input min-w-[200px]"
                                                                                    placeholder="Enter Item Name"
                                                                                    [(ngModel)]="item.servpack_name"
                                                                                    name="service_name_{{i}}"
                                                                                    disabled />
                                                                                <ng-template #itemTemplate let-item>
                                                                                    <a
                                                                                        [innerHTML]="item.servpack_name"></a>
                                                                                </ng-template>

                                                                                <ng-template #notFoundTemplate
                                                                                    let-notFound>
                                                                                    <div [innerHTML]="notFound"></div>
                                                                                </ng-template>

                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="request_details.serm_vendor_flag==1">
                                                                                <input type="text"
                                                                                    class="form-input min-w-[200px]"
                                                                                    placeholder="Enter Item Name"
                                                                                    [(ngModel)]="item.sitem_vendor"
                                                                                    name="service_name_{{i}}"
                                                                                    disabled />
                                                                                <ng-template #itemTemplate let-item>
                                                                                    <a
                                                                                        [innerHTML]="item.sitem_vendor"></a>
                                                                                </ng-template>

                                                                                <ng-template #notFoundTemplate
                                                                                    let-notFound>
                                                                                    <div [innerHTML]="notFound"></div>
                                                                                </ng-template>

                                                                            </ng-container>


                                                                        </td>
                                                                        <td
                                                                            *ngIf="request_details.serm_status>27&&request_details.serm_status!=50">
                                                                            <span>
                                                                                <div class="flex-1">
                                                                                    <ng-select name="ctnSelect1"
                                                                                        placeholder="Select Status"
                                                                                        [(ngModel)]="item.sitem_status_flag"
                                                                                        appendTo="body" disabled
                                                                                        [searchable]="true"
                                                                                        [clearable]="false"
                                                                                        class="custom-multiselect">
                                                                                        <!-- <ng-option value="-1">{{'Not Yet
                                                                                            Accepted'|translate}}</ng-option> -->
                                                                                        <ng-option value="0"
                                                                                            class="pend_status">{{'Pending'|translate}}</ng-option>
                                                                                        <ng-option value="1"
                                                                                            class="inprog_status">{{'In
                                                                                            Progress'|translate}}</ng-option>
                                                                                        <ng-option value="2"
                                                                                            class="comp_status">{{'Completed'|translate}}</ng-option>
                                                                                        <ng-option value="6">{{'Expert
                                                                                            Work
                                                                                            Completed'|translate}}</ng-option>
                                                                                    </ng-select>
                                                                                </div>
                                                                            </span>

                                                                        </td>




                                                                        <td *ngIf="request_details.serm_status==28">
                                                                            <div *ngIf="item.sitem_hold_flag==0">
                                                                                <button type="button"
                                                                                    class="btn  btn-sm" disabled
                                                                                    style="width: 100%;background-color: #F49D1A;color: white;">
                                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                                        fill="none" viewBox="0 0 24 24"
                                                                                        height="24" width="24">
                                                                                        <path fill="#F2FFE9"
                                                                                            d="M12.0001 22.0001C16.9707 22.0001 21.0001 17.9707 21.0001 13.0001C21.0001 8.02954 16.9707 4.0001 12.0001 4.0001C7.02954 4.0001 3.0001 8.02954 3.0001 13.0001C3.0001 17.9707 7.02954 22.0001 12.0001 22.0001ZM13.0262 10.275C12.7889 10.1084 12.5202 9.93607 12.242 9.76689C11.1696 9.11476 10.6334 8.78869 10.1525 9.1497C9.6716 9.51071 9.6279 10.2665 9.54048 11.7779C9.51576 12.2054 9.5001 12.6244 9.5001 13.0001C9.5001 13.3758 9.51576 13.7948 9.54048 14.2223C9.62789 15.7337 9.6716 16.4895 10.1525 16.8505C10.6334 17.2115 11.1696 16.8854 12.242 16.2333C12.5202 16.0641 12.7889 15.8918 13.0262 15.7252C13.2967 15.5353 13.591 15.3074 13.8877 15.0653C14.9626 14.1884 15.5001 13.75 15.5001 13.0001C15.5001 12.2502 14.9626 11.8118 13.8877 10.9349C13.591 10.6928 13.2967 10.4649 13.0262 10.275Z"
                                                                                            clip-rule="evenodd"
                                                                                            fill-rule="evenodd"></path>
                                                                                        <path fill="#F2FFE9"
                                                                                            d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                                            clip-rule="evenodd"
                                                                                            fill-rule="evenodd"></path>
                                                                                    </svg>


                                                                                    {{'Hold'|translate}} </button>
                                                                            </div>
                                                                            <div *ngIf="item.sitem_hold_flag==1">
                                                                                <button type="button"
                                                                                    class="btn  btn-sm" disabled
                                                                                    style="width: 100%;background-color: #54B435;color: #F2FFE9;">
                                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                                        fill="none" viewBox="0 0 24 24"
                                                                                        height="24" width="24">
                                                                                        <path fill="#b3ffae"
                                                                                            d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                                            clip-rule="evenodd"
                                                                                            fill-rule="evenodd"></path>
                                                                                        <path fill="#b3ffae"
                                                                                            d="M21.0001 13.0001C21.0001 17.9707 16.9707 22.0001 12.0001 22.0001C7.02954 22.0001 3.0001 17.9707 3.0001 13.0001C3.0001 8.02954 7.02954 4.0001 12.0001 4.0001C16.9707 4.0001 21.0001 8.02954 21.0001 13.0001ZM16.0001 15.5001C16.0001 15.966 16.0001 16.199 15.924 16.3828C15.8225 16.6278 15.6278 16.8225 15.3828 16.924C15.199 17.0001 14.966 17.0001 14.5001 17.0001C14.0342 17.0001 13.8012 17.0001 13.6174 16.924C13.3724 16.8225 13.1777 16.6278 13.0762 16.3828C13.0001 16.199 13.0001 15.966 13.0001 15.5001V10.5001C13.0001 10.0342 13.0001 9.80119 13.0762 9.61742C13.1777 9.37239 13.3724 9.17771 13.6174 9.07622C13.8012 9.0001 14.0342 9.0001 14.5001 9.0001C14.966 9.0001 15.199 9.0001 15.3828 9.07622C15.6278 9.17771 15.8225 9.37239 15.924 9.61742C16.0001 9.80119 16.0001 10.0342 16.0001 10.5001V15.5001ZM11.0001 15.5001V10.5001C11.0001 10.0342 11.0001 9.80119 10.924 9.61742C10.8225 9.37239 10.6278 9.17771 10.3828 9.07622C10.199 9.0001 9.96604 9.0001 9.5001 9.0001C9.03416 9.0001 8.80119 9.0001 8.61742 9.07622C8.37239 9.17771 8.17771 9.37239 8.07622 9.61742C8.0001 9.80119 8.0001 10.0342 8.0001 10.5001V15.5001C8.0001 15.966 8.0001 16.199 8.07622 16.3828C8.17771 16.6278 8.37239 16.8225 8.61742 16.924C8.80119 17.0001 9.03416 17.0001 9.5001 17.0001C9.96604 17.0001 10.199 17.0001 10.3828 16.924C10.6278 16.8225 10.8225 16.6278 10.924 16.3828C11.0001 16.199 11.0001 15.966 11.0001 15.5001Z"
                                                                                            clip-rule="evenodd"
                                                                                            fill-rule="evenodd"></path>
                                                                                    </svg>

                                                                                    {{'Unhold'|translate}} </button>
                                                                            </div>
                                                                        </td>


                                                                    </tr>

                                                                    <!-- in-progress -->
                                                                    <tr class="align-top"
                                                                        *ngIf="item.sitem_status_flag!=2 && item.sitem_status_flag!=6">
                                                                        <ng-container
                                                                            *ngIf="request_details.serm_vendor_flag==0">
                                                                            <td *ngIf="item.sitem_active_flag==2"
                                                                                style="border: 3px solid #ffefbb;">

                                                                                <input type="text"
                                                                                    class="form-input min-w-[200px]"
                                                                                    placeholder="Enter Item Name"
                                                                                    [(ngModel)]="item.servpack_name"
                                                                                    name="service_name_{{i}}"
                                                                                    disabled />
                                                                                <ng-template #itemTemplate let-item>
                                                                                    <a
                                                                                        [innerHTML]="item.servpack_name"></a>
                                                                                </ng-template>

                                                                                <ng-template #notFoundTemplate
                                                                                    let-notFound>
                                                                                    <div [innerHTML]="notFound"></div>
                                                                                </ng-template>
                                                                            </td>
                                                                            <td *ngIf="item.sitem_active_flag==3"
                                                                                style="border: 3px solid #ffdfdf;">
                                                                                <input type="text"
                                                                                    class="form-input min-w-[200px]"
                                                                                    placeholder="Enter Item Name"
                                                                                    [(ngModel)]="item.servpack_name"
                                                                                    name="service_name_{{i}}"
                                                                                    disabled />
                                                                                <ng-template #itemTemplate let-item>
                                                                                    <a
                                                                                        [innerHTML]="item.servpack_name"></a>
                                                                                </ng-template>

                                                                                <ng-template #notFoundTemplate
                                                                                    let-notFound>
                                                                                    <div [innerHTML]="notFound"></div>
                                                                                </ng-template>
                                                                            </td>
                                                                            <td
                                                                                *ngIf="item.sitem_active_flag==0||item.sitem_active_flag==1">
                                                                                <input type="text"
                                                                                    class="form-input min-w-[200px]"
                                                                                    placeholder="Enter Item Name"
                                                                                    [(ngModel)]="item.servpack_name"
                                                                                    name="service_name_{{i}}"
                                                                                    disabled />
                                                                                <ng-template #itemTemplate let-item>
                                                                                    <a
                                                                                        [innerHTML]="item.servpack_name"></a>
                                                                                </ng-template>

                                                                                <ng-template #notFoundTemplate
                                                                                    let-notFound>
                                                                                    <div [innerHTML]="notFound"></div>
                                                                                </ng-template>
                                                                            </td>
                                                                        </ng-container>


                                                                        <ng-container
                                                                            *ngIf="request_details.serm_vendor_flag==1">
                                                                            <td *ngIf="item.sitem_active_flag==2"
                                                                                style="border: 3px solid #ffefbb;">

                                                                                <input type="text"
                                                                                    class="form-input min-w-[200px]"
                                                                                    placeholder="Enter Item Name"
                                                                                    [(ngModel)]="item.sitem_vendor"
                                                                                    name="service_name_{{i}}"
                                                                                    disabled />
                                                                                <ng-template #itemTemplate let-item>
                                                                                    <a
                                                                                        [innerHTML]="item.sitem_vendor"></a>
                                                                                </ng-template>

                                                                                <ng-template #notFoundTemplate
                                                                                    let-notFound>
                                                                                    <div [innerHTML]="notFound"></div>
                                                                                </ng-template>
                                                                            </td>
                                                                            <td *ngIf="item.sitem_active_flag==3"
                                                                                style="border: 3px solid #ffdfdf;">
                                                                                <input type="text"
                                                                                    class="form-input min-w-[200px]"
                                                                                    placeholder="Enter Item Name"
                                                                                    [(ngModel)]="item.sitem_vendor"
                                                                                    name="service_name_{{i}}"
                                                                                    disabled />
                                                                                <ng-template #itemTemplate let-item>
                                                                                    <a
                                                                                        [innerHTML]="item.sitem_vendor"></a>
                                                                                </ng-template>

                                                                                <ng-template #notFoundTemplate
                                                                                    let-notFound>
                                                                                    <div [innerHTML]="notFound"></div>
                                                                                </ng-template>
                                                                            </td>
                                                                            <td
                                                                                *ngIf="item.sitem_active_flag==0||item.sitem_active_flag==1">
                                                                                <input type="text"
                                                                                    class="form-input min-w-[200px]"
                                                                                    placeholder="Enter Item Name"
                                                                                    [(ngModel)]="item.sitem_vendor"
                                                                                    name="service_name_{{i}}"
                                                                                    disabled />
                                                                                <ng-template #itemTemplate let-item>
                                                                                    <a
                                                                                        [innerHTML]="item.sitem_vendor"></a>
                                                                                </ng-template>

                                                                                <ng-template #notFoundTemplate
                                                                                    let-notFound>
                                                                                    <div [innerHTML]="notFound"></div>
                                                                                </ng-template>
                                                                            </td>
                                                                        </ng-container>

                                                                        <td>
                                                                            <ng-container
                                                                                *ngIf="request_details.serm_status==28&&(item.sitem_active_flag==0||item.sitem_active_flag==1)">
                                                                                <span>
                                                                                    <div class="flex-1">
                                                                                        <ng-select name="ctnSelect1"
                                                                                            (change)="selectedChange(item);"
                                                                                            placeholder="Select Status"
                                                                                            [(ngModel)]="item.sitem_status_flag"
                                                                                            appendTo="body"
                                                                                            [disabled]="app_workcard.am_status==0||request_details.serm_vendor_flag==1||item.sitem_hold_flag==1||item.sitem_active_flag==2||item.sitem_active_flag==3||item.sitem_assignee_type==1"
                                                                                            [searchable]="true"
                                                                                            [clearable]="false"
                                                                                            class="custom-multiselect">
                                                                                            <ng-option *ngIf="item.sitem_status_flag == '-1'" value="-1">{{'Not
                                                                                                Yet
                                                                                                Accepted'|translate}}</ng-option>
                                                                                            <ng-option value="0"
                                                                                                class="pend_status">{{'Pending'|translate}}</ng-option>
                                                                                            <ng-option value="1"
                                                                                                class="inprog_status">{{'In
                                                                                                Progress'|translate}}</ng-option>
                                                                                            <ng-option value="2"
                                                                                                class="comp_status">{{'Completed'|translate}}</ng-option>
                                                                                        </ng-select>
                                                                                    </div>
                                                                                </span>
                                                                            </ng-container>
                                                                            <ng-container name="ctnSelect1"
                                                                                placeholder="Select Status"
                                                                                appendTo="body" bindva
                                                                                *ngIf="request_details.serm_status!=27&&item.sitem_active_flag==2">
                                                                                <div class="flex-1">
                                                                                    <span>
                                                                                        <ng-select [searchable]="true"
                                                                                            [clearable]="false"
                                                                                            class="custom-multiselect"
                                                                                            [(ngModel)]="item.sitem_status_flag"
                                                                                            [disabled]="item.sitem_active_flag==2">
                                                                                            <ng-option value="0"
                                                                                                class="pend_status">{{'Service
                                                                                                Pending'|translate}}</ng-option>
                                                                                        </ng-select>
                                                                                    </span>
                                                                                </div>


                                                                            </ng-container>
                                                                            <ng-container name="ctnSelect1"
                                                                                placeholder="Select Status"
                                                                                appendTo="body"
                                                                                *ngIf="request_details.serm_status!=27&&item.sitem_active_flag==3">
                                                                                <div class="flex-1">
                                                                                    <span>
                                                                                        <ng-select [searchable]="true"
                                                                                            [clearable]="false"
                                                                                            class="custom-multiselect"
                                                                                            [(ngModel)]="item.sitem_status_flag"
                                                                                            [disabled]="item.sitem_active_flag==3">
                                                                                            <ng-option value="0"
                                                                                                class="pend_status">{{'Service
                                                                                                Rejected'|translate}}</ng-option>
                                                                                        </ng-select>
                                                                                    </span>
                                                                                </div>


                                                                            </ng-container>
                                                                        </td>
                                                                        <td
                                                                            *ngIf="request_details.serm_status==28&&(item.sitem_active_flag==0||item.sitem_active_flag==1)">
                                                                            <div *ngIf="item.sitem_hold_flag==0">
                                                                                <button type="button"
                                                                                    class="btn  btn-sm"
                                                                                    (click)="reasonmodal.open()"
                                                                                    style="width: 100%;background-color: #F49D1A;color: white;"
                                                                                    [disabled]="app_workcard.am_status==0||request_details.serm_vendor_flag==1">
                                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                                        fill="none" viewBox="0 0 24 24"
                                                                                        height="24" width="24">
                                                                                        <path fill="#F2FFE9"
                                                                                            d="M12.0001 22.0001C16.9707 22.0001 21.0001 17.9707 21.0001 13.0001C21.0001 8.02954 16.9707 4.0001 12.0001 4.0001C7.02954 4.0001 3.0001 8.02954 3.0001 13.0001C3.0001 17.9707 7.02954 22.0001 12.0001 22.0001ZM13.0262 10.275C12.7889 10.1084 12.5202 9.93607 12.242 9.76689C11.1696 9.11476 10.6334 8.78869 10.1525 9.1497C9.6716 9.51071 9.6279 10.2665 9.54048 11.7779C9.51576 12.2054 9.5001 12.6244 9.5001 13.0001C9.5001 13.3758 9.51576 13.7948 9.54048 14.2223C9.62789 15.7337 9.6716 16.4895 10.1525 16.8505C10.6334 17.2115 11.1696 16.8854 12.242 16.2333C12.5202 16.0641 12.7889 15.8918 13.0262 15.7252C13.2967 15.5353 13.591 15.3074 13.8877 15.0653C14.9626 14.1884 15.5001 13.75 15.5001 13.0001C15.5001 12.2502 14.9626 11.8118 13.8877 10.9349C13.591 10.6928 13.2967 10.4649 13.0262 10.275Z"
                                                                                            clip-rule="evenodd"
                                                                                            fill-rule="evenodd"></path>
                                                                                        <path fill="#F2FFE9"
                                                                                            d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                                            clip-rule="evenodd"
                                                                                            fill-rule="evenodd"></path>
                                                                                    </svg>
                                                                                    {{'Hold'|translate}} </button>
                                                                            </div>
                                                                            <modal #reasonmodal>
                                                                                <ng-template #modalHeader>
                                                                                    <div>{{'Hold Service'|translate}}
                                                                                    </div>
                                                                                </ng-template>
                                                                                <ng-template #modalBody>
                                                                                    <div class="panel">
                                                                                        <div
                                                                                            class="mb-6 w-full lg:w-1/2 ltr:lg:mr-6 rtl:lg:ml-6">
                                                                                            <div class="container">

                                                                                                <b> {{'Enter
                                                                                                    Reason'|translate}}</b>
                                                                                                <textarea
                                                                                                    class="form-textarea mt-4"
                                                                                                    placeholder="Enter Hold Reason"
                                                                                                    [(ngModel)]="sitem_hold_reason"
                                                                                                    name="hold_reason"></textarea>
                                                                                                <span
                                                                                                    *ngIf="!sitem_hold_reason"
                                                                                                    style="color: red;font-size:13px;"><i><b>*{{'Please
                                                                                                            enter Hold
                                                                                                            Reason'|translate}}.</b></i></span>


                                                                                            </div>
                                                                                        </div>

                                                                                    </div>
                                                                                </ng-template>
                                                                                <ng-template #modalFooter>
                                                                                    <button type="button"
                                                                                        (click)="reasonmodal.close()"
                                                                                        class="btn btn-danger">Close</button>
                                                                                    &nbsp;
                                                                                    <!-- *ngIf="sitem_hold_reason" -->
                                                                                    <button type="button" class="btn"
                                                                                        [disabled]="sitem_hold_reason == ''|| sitem_hold_reason == null|| wokCardHoldFlag"
                                                                                        (click)="workcardhold(item.sitem_id,2,app_workcard.am_id,item.servpack_id)"
                                                                                        style="background-color: #F49D1A;color: white;">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                                            fill="none"
                                                                                            viewBox="0 0 24 24"
                                                                                            height="24" width="24">
                                                                                            <path fill="#F2FFE9"
                                                                                                d="M12.0001 22.0001C16.9707 22.0001 21.0001 17.9707 21.0001 13.0001C21.0001 8.02954 16.9707 4.0001 12.0001 4.0001C7.02954 4.0001 3.0001 8.02954 3.0001 13.0001C3.0001 17.9707 7.02954 22.0001 12.0001 22.0001ZM13.0262 10.275C12.7889 10.1084 12.5202 9.93607 12.242 9.76689C11.1696 9.11476 10.6334 8.78869 10.1525 9.1497C9.6716 9.51071 9.6279 10.2665 9.54048 11.7779C9.51576 12.2054 9.5001 12.6244 9.5001 13.0001C9.5001 13.3758 9.51576 13.7948 9.54048 14.2223C9.62789 15.7337 9.6716 16.4895 10.1525 16.8505C10.6334 17.2115 11.1696 16.8854 12.242 16.2333C12.5202 16.0641 12.7889 15.8918 13.0262 15.7252C13.2967 15.5353 13.591 15.3074 13.8877 15.0653C14.9626 14.1884 15.5001 13.75 15.5001 13.0001C15.5001 12.2502 14.9626 11.8118 13.8877 10.9349C13.591 10.6928 13.2967 10.4649 13.0262 10.275Z"
                                                                                                clip-rule="evenodd"
                                                                                                fill-rule="evenodd">
                                                                                            </path>
                                                                                            <path fill="#F2FFE9"
                                                                                                d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                                                clip-rule="evenodd"
                                                                                                fill-rule="evenodd">
                                                                                            </path>
                                                                                        </svg>
                                                                                        {{'Hold Workcard'|translate}}
                                                                                        <span
                                                                                            class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                                                                                            *ngIf="wokCardHoldFlag"><svg
                                                                                                viewBox="0 0 24 24"
                                                                                                width="24" height="24"
                                                                                                stroke="currentColor"
                                                                                                stroke-width="1.5"
                                                                                                fill="none"
                                                                                                stroke-linecap="round"
                                                                                                stroke-linejoin="round"
                                                                                                class="inline-block h-5 w-5 shrink-0 animate-[spin_2s_linear_infinite] align-middle">
                                                                                                <line x1="12" y1="2"
                                                                                                    x2="12" y2="6">
                                                                                                </line>
                                                                                                <line x1="12" y1="18"
                                                                                                    x2="12" y2="22">
                                                                                                </line>
                                                                                                <line x1="4.93"
                                                                                                    y1="4.93" x2="7.76"
                                                                                                    y2="7.76"></line>
                                                                                                <line x1="16.24"
                                                                                                    y1="16.24"
                                                                                                    x2="19.07"
                                                                                                    y2="19.07"></line>
                                                                                                <line x1="2" y1="12"
                                                                                                    x2="6" y2="12">
                                                                                                </line>
                                                                                                <line x1="18" y1="12"
                                                                                                    x2="22" y2="12">
                                                                                                </line>
                                                                                                <line x1="4.93"
                                                                                                    y1="19.07" x2="7.76"
                                                                                                    y2="16.24"></line>
                                                                                                <line x1="16.24"
                                                                                                    y1="7.76" x2="19.07"
                                                                                                    y2="4.93"></line>
                                                                                            </svg></span></button>

                                                                                </ng-template>
                                                                            </modal>


                                                                            <div *ngIf="item.sitem_hold_flag==1">
                                                                                <button type="button"
                                                                                    [disabled]="app_workcard.am_status==0 || workCard_Unhold_Flag"
                                                                                    class="btn  btn-sm"
                                                                                    (click)="workcard_unhold(item.sitem_id,2,app_workcard.am_id)"
                                                                                    style="width: 100%;background-color: #54B435;color: #F2FFE9;">
                                                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                                                        fill="none" viewBox="0 0 24 24"
                                                                                        height="24" width="24">
                                                                                        <path fill="#b3ffae"
                                                                                            d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                                            clip-rule="evenodd"
                                                                                            fill-rule="evenodd"></path>
                                                                                        <path fill="#b3ffae"
                                                                                            d="M21.0001 13.0001C21.0001 17.9707 16.9707 22.0001 12.0001 22.0001C7.02954 22.0001 3.0001 17.9707 3.0001 13.0001C3.0001 8.02954 7.02954 4.0001 12.0001 4.0001C16.9707 4.0001 21.0001 8.02954 21.0001 13.0001ZM16.0001 15.5001C16.0001 15.966 16.0001 16.199 15.924 16.3828C15.8225 16.6278 15.6278 16.8225 15.3828 16.924C15.199 17.0001 14.966 17.0001 14.5001 17.0001C14.0342 17.0001 13.8012 17.0001 13.6174 16.924C13.3724 16.8225 13.1777 16.6278 13.0762 16.3828C13.0001 16.199 13.0001 15.966 13.0001 15.5001V10.5001C13.0001 10.0342 13.0001 9.80119 13.0762 9.61742C13.1777 9.37239 13.3724 9.17771 13.6174 9.07622C13.8012 9.0001 14.0342 9.0001 14.5001 9.0001C14.966 9.0001 15.199 9.0001 15.3828 9.07622C15.6278 9.17771 15.8225 9.37239 15.924 9.61742C16.0001 9.80119 16.0001 10.0342 16.0001 10.5001V15.5001ZM11.0001 15.5001V10.5001C11.0001 10.0342 11.0001 9.80119 10.924 9.61742C10.8225 9.37239 10.6278 9.17771 10.3828 9.07622C10.199 9.0001 9.96604 9.0001 9.5001 9.0001C9.03416 9.0001 8.80119 9.0001 8.61742 9.07622C8.37239 9.17771 8.17771 9.37239 8.07622 9.61742C8.0001 9.80119 8.0001 10.0342 8.0001 10.5001V15.5001C8.0001 15.966 8.0001 16.199 8.07622 16.3828C8.17771 16.6278 8.37239 16.8225 8.61742 16.924C8.80119 17.0001 9.03416 17.0001 9.5001 17.0001C9.96604 17.0001 10.199 17.0001 10.3828 16.924C10.6278 16.8225 10.8225 16.6278 10.924 16.3828C11.0001 16.199 11.0001 15.966 11.0001 15.5001Z"
                                                                                            clip-rule="evenodd"
                                                                                            fill-rule="evenodd"></path>
                                                                                    </svg>

                                                                                    {{'Unhold'|translate}} </button>
                                                                            </div>
                                                                        </td>
                                                                        <td *ngIf="item.sitem_assignee_type==0&&request_details.serm_vendor_flag==0"
                                                                            style="width: 30%;">
                                                                            <button type="button" class="btn  btn-sm"
                                                                                (click)="expertassign.open()"
                                                                                style="width: 100%;background-color: #09a4f0;color: white;"
                                                                                [disabled]="app_workcard.am_status==0 || item.sitem_active_flag==2 || item.sitem_active_flag==3 || item.sitem_hold_flag==1 || request_details.serm_hold_flag == '1'">
                                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                                    fill="none" viewBox="0 0 24 24"
                                                                                    height="24" width="24">
                                                                                    <path fill="#F2FFE9"
                                                                                        d="M12.0001 22.0001C16.9707 22.0001 21.0001 17.9707 21.0001 13.0001C21.0001 8.02954 16.9707 4.0001 12.0001 4.0001C7.02954 4.0001 3.0001 8.02954 3.0001 13.0001C3.0001 17.9707 7.02954 22.0001 12.0001 22.0001ZM13.0262 10.275C12.7889 10.1084 12.5202 9.93607 12.242 9.76689C11.1696 9.11476 10.6334 8.78869 10.1525 9.1497C9.6716 9.51071 9.6279 10.2665 9.54048 11.7779C9.51576 12.2054 9.5001 12.6244 9.5001 13.0001C9.5001 13.3758 9.51576 13.7948 9.54048 14.2223C9.62789 15.7337 9.6716 16.4895 10.1525 16.8505C10.6334 17.2115 11.1696 16.8854 12.242 16.2333C12.5202 16.0641 12.7889 15.8918 13.0262 15.7252C13.2967 15.5353 13.591 15.3074 13.8877 15.0653C14.9626 14.1884 15.5001 13.75 15.5001 13.0001C15.5001 12.2502 14.9626 11.8118 13.8877 10.9349C13.591 10.6928 13.2967 10.4649 13.0262 10.275Z"
                                                                                        clip-rule="evenodd"
                                                                                        fill-rule="evenodd"></path>
                                                                                    <path fill="#F2FFE9"
                                                                                        d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                                        clip-rule="evenodd"
                                                                                        fill-rule="evenodd"></path>
                                                                                </svg>
                                                                                {{item.sitem_status_flag==7?'Reassign To
                                                                                Expert':'Assign To Expert'}} </button>
                                                                            <modal #expertassign>
                                                                                <ng-template #modalHeader>
                                                                                    <div>{{"Assign To
                                                                                        Expert"|translate}}</div>
                                                                                </ng-template>
                                                                                <ng-template #modalBody>
                                                                                    <div
                                                                                        [ngClass]="isubmitvendorFlag ? isubmitvendorValid? 'has-error' : 'has-success' : ''">

                                                                                        <div class="flex-1">
                                                                                            <ng-select name="ctnSelect1"
                                                                                                (change)="this.vendor_id = $event"
                                                                                                placeholder="Select vendor"
                                                                                                appendTo="body"
                                                                                                [searchable]="true"
                                                                                                [clearable]="false"
                                                                                                class="custom-multiselect">
                                                                                                <ng-option
                                                                                                    *ngFor="let option of vend_list"
                                                                                                    [value]="option.cstm_id">{{option.cstm_name}}</ng-option>
                                                                                            </ng-select>
                                                                                        </div>
                                                                                        <ng-container
                                                                                            *ngIf="isubmitvendorFlag && !isubmitvendorValid">

                                                                                        </ng-container>
                                                                                        <ng-container
                                                                                            *ngIf="isubmitvendorFlag && isubmitvendorValid">
                                                                                            <p class="mt-1 text-danger"
                                                                                                style=" text-align: end;">
                                                                                                Please select expert</p>
                                                                                        </ng-container>
                                                                                    </div>
                                                                                </ng-template>
                                                                                <ng-template #modalFooter>
                                                                                    <button type="button"
                                                                                        (click)="expertassign.close()"
                                                                                        class="btn btn-danger">
                                                                                        {{'Close'|translate}}</button>
                                                                                    &nbsp;
                                                                                    <button type="button"
                                                                                        class="btn btn-outline-success"
                                                                                        (click)="assign_to_exp(item.sitem_id)">
                                                                                        {{'Assign'|translate}}</button>
                                                                                </ng-template>
                                                                            </modal>
                                                                        </td>
                                                                        <td
                                                                            *ngIf="item.sitem_assignee_type==1&&request_details.serm_vendor_flag==0">
                                                                            <button
                                                                                *ngIf="item.sitem_status_flag!=6||item.sitem_status_flag!=7"
                                                                                type="button" class="btn  btn-sm"
                                                                                style="width: 100%;background-color: #1eec51;color: white;"
                                                                                disabled>
                                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                                    fill="none" viewBox="0 0 24 24"
                                                                                    height="24" width="24">
                                                                                    <path fill="#F2FFE9"
                                                                                        d="M12.0001 22.0001C16.9707 22.0001 21.0001 17.9707 21.0001 13.0001C21.0001 8.02954 16.9707 4.0001 12.0001 4.0001C7.02954 4.0001 3.0001 8.02954 3.0001 13.0001C3.0001 17.9707 7.02954 22.0001 12.0001 22.0001ZM13.0262 10.275C12.7889 10.1084 12.5202 9.93607 12.242 9.76689C11.1696 9.11476 10.6334 8.78869 10.1525 9.1497C9.6716 9.51071 9.6279 10.2665 9.54048 11.7779C9.51576 12.2054 9.5001 12.6244 9.5001 13.0001C9.5001 13.3758 9.51576 13.7948 9.54048 14.2223C9.62789 15.7337 9.6716 16.4895 10.1525 16.8505C10.6334 17.2115 11.1696 16.8854 12.242 16.2333C12.5202 16.0641 12.7889 15.8918 13.0262 15.7252C13.2967 15.5353 13.591 15.3074 13.8877 15.0653C14.9626 14.1884 15.5001 13.75 15.5001 13.0001C15.5001 12.2502 14.9626 11.8118 13.8877 10.9349C13.591 10.6928 13.2967 10.4649 13.0262 10.275Z"
                                                                                        clip-rule="evenodd"
                                                                                        fill-rule="evenodd"></path>
                                                                                    <path fill="#F2FFE9"
                                                                                        d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                                        clip-rule="evenodd"
                                                                                        fill-rule="evenodd"></path>
                                                                                </svg>

                                                                                {{'Assigned To Expert'|translate}}
                                                                                &nbsp; ({{item.sitem_assign}})
                                                                            </button>

                                                                            <button
                                                                                (click)="selectedChangeforexpert(item)"
                                                                                *ngIf="item.sitem_status_flag==6"
                                                                                type="button" class="btn  btn-sm"
                                                                                style="width: 100%;background-color: #1eec51;color: white;">
                                                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                                                    fill="none" viewBox="0 0 24 24"
                                                                                    height="24" width="24">
                                                                                    <path fill="#F2FFE9"
                                                                                        d="M12.0001 22.0001C16.9707 22.0001 21.0001 17.9707 21.0001 13.0001C21.0001 8.02954 16.9707 4.0001 12.0001 4.0001C7.02954 4.0001 3.0001 8.02954 3.0001 13.0001C3.0001 17.9707 7.02954 22.0001 12.0001 22.0001ZM13.0262 10.275C12.7889 10.1084 12.5202 9.93607 12.242 9.76689C11.1696 9.11476 10.6334 8.78869 10.1525 9.1497C9.6716 9.51071 9.6279 10.2665 9.54048 11.7779C9.51576 12.2054 9.5001 12.6244 9.5001 13.0001C9.5001 13.3758 9.51576 13.7948 9.54048 14.2223C9.62789 15.7337 9.6716 16.4895 10.1525 16.8505C10.6334 17.2115 11.1696 16.8854 12.242 16.2333C12.5202 16.0641 12.7889 15.8918 13.0262 15.7252C13.2967 15.5353 13.591 15.3074 13.8877 15.0653C14.9626 14.1884 15.5001 13.75 15.5001 13.0001C15.5001 12.2502 14.9626 11.8118 13.8877 10.9349C13.591 10.6928 13.2967 10.4649 13.0262 10.275Z"
                                                                                        clip-rule="evenodd"
                                                                                        fill-rule="evenodd"></path>
                                                                                    <path fill="#F2FFE9"
                                                                                        d="M8.13612 1.6026C8.35566 1.95386 8.24887 2.41657 7.89762 2.6361L3.8976 5.1361C3.54634 5.35563 3.08363 5.24885 2.8641 4.8976C2.64457 4.54634 2.75135 4.08363 3.1026 3.8641L7.10263 1.3641C7.45388 1.14457 7.91659 1.25135 8.13612 1.6026ZM15.8641 1.6026C16.0836 1.25135 16.5463 1.14457 16.8976 1.3641L20.8976 3.8641C21.2489 4.08363 21.3556 4.54635 21.1361 4.8976C20.9166 5.24885 20.4539 5.35563 20.1026 5.1361L16.1026 2.6361C15.7513 2.41657 15.6446 1.95385 15.8641 1.6026Z"
                                                                                        clip-rule="evenodd"
                                                                                        fill-rule="evenodd"></path>
                                                                                </svg>
                                                                                {{'Expert Work Completed'|translate}}
                                                                            </button>
                                                                        </td>


                                                                    </tr>
                                                                </ng-container>


                                                            </ng-container>
                                                            <br>
                                                            <!-- <hr> -->
                                                            <br>
                                                            <ng-container
                                                                *ngIf="viewnewservice=='0'&&request_details.serm_status==28">

                                                                <button type="button" class="btn "
                                                                    (click)="view_Service(0)"
                                                                    style="margin-left: 5%;background-color: #11698E;color:#f8f1f1 ;"
                                                                    [disabled]="app_workcard.am_status==0">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                                                                        viewBox="0 0 22 22" height="22" width="22">
                                                                        <path fill="#f8f1f1"
                                                                            d="M11.75 8C11.75 7.58579 11.4142 7.25 11 7.25C10.5858 7.25 10.25 7.58579 10.25 8L10.25 10.25H8C7.58579 10.25 7.25 10.5858 7.25 11C7.25 11.4142 7.58579 11.75 8 11.75H10.25V14C10.25 14.4142 10.5858 14.75 11 14.75C11.4142 14.75 11.75 14.4142 11.75 14L11.75 11.75H14C14.4142 11.75 14.75 11.4142 14.75 11C14.75 10.5858 14.4142 10.25 14 10.25H11.75V8Z">
                                                                        </path>
                                                                        <path fill="#f8f1f1"
                                                                            d="M11.0574 0.25H10.9426C8.63424 0.249988 6.82519 0.249978 5.41371 0.439747C3.96897 0.633987 2.82895 1.03933 1.93414 1.93414C1.03933 2.82895 0.633987 3.96897 0.439747 5.41371C0.249978 6.82519 0.249988 8.63422 0.25 10.9426V11.0574C0.249988 13.3658 0.249978 15.1748 0.439747 16.5863C0.633987 18.031 1.03933 19.1711 1.93414 20.0659C2.82895 20.9607 3.96897 21.366 5.41371 21.5603C6.82519 21.75 8.63423 21.75 10.9426 21.75H11.0574C13.3658 21.75 15.1748 21.75 16.5863 21.5603C18.031 21.366 19.1711 20.9607 20.0659 20.0659C20.9607 19.1711 21.366 18.031 21.5603 16.5863C21.75 15.1748 21.75 13.3658 21.75 11.0574V10.9426C21.75 8.63423 21.75 6.82519 21.5603 5.41371C21.366 3.96897 20.9607 2.82895 20.0659 1.93414C19.1711 1.03933 18.031 0.633987 16.5863 0.439747C15.1748 0.249978 13.3658 0.249988 11.0574 0.25ZM2.9948 2.9948C3.56445 2.42514 4.33517 2.09825 5.61358 1.92637C6.91356 1.75159 8.62177 1.75 11 1.75C13.3782 1.75 15.0864 1.75159 16.3864 1.92637C17.6648 2.09825 18.4355 2.42514 19.0052 2.9948C19.5749 3.56445 19.9018 4.33517 20.0736 5.61358C20.2484 6.91356 20.25 8.62177 20.25 11C20.25 13.3782 20.2484 15.0864 20.0736 16.3864C19.9018 17.6648 19.5749 18.4355 19.0052 19.0052C18.4355 19.5749 17.6648 19.9018 16.3864 20.0736C15.0864 20.2484 13.3782 20.25 11 20.25C8.62177 20.25 6.91356 20.2484 5.61358 20.0736C4.33517 19.9018 3.56445 19.5749 2.9948 19.0052C2.42514 18.4355 2.09825 17.6648 1.92637 16.3864C1.75159 15.0864 1.75 13.3782 1.75 11C1.75 8.62177 1.75159 6.91356 1.92637 5.61358C2.09825 4.33517 2.42514 3.56445 2.9948 2.9948Z"
                                                                            clip-rule="evenodd" fill-rule="evenodd">
                                                                        </path>
                                                                    </svg>&nbsp; {{'Create New Service'|translate}}
                                                                </button>
                                                            </ng-container>
                                                            <ng-container *ngIf="viewnewservice=='1'">

                                                                <button type="button" class="btn "
                                                                    (click)="view_Service(1)"
                                                                    style="margin-left: 5%;background-color: #f04469;color:#f8f1f1 ;">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                                                                        viewBox="0 0 24 24" height="24" width="24">
                                                                        <path fill="#f8f1f1"
                                                                            d="M10.0303 8.96967C9.73741 8.67678 9.26253 8.67678 8.96964 8.96967C8.67675 9.26256 8.67675 9.73744 8.96964 10.0303L10.9393 12L8.96966 13.9697C8.67677 14.2626 8.67677 14.7374 8.96966 15.0303C9.26255 15.3232 9.73743 15.3232 10.0303 15.0303L12 13.0607L13.9696 15.0303C14.2625 15.3232 14.7374 15.3232 15.0303 15.0303C15.3232 14.7374 15.3232 14.2625 15.0303 13.9697L13.0606 12L15.0303 10.0303C15.3232 9.73746 15.3232 9.26258 15.0303 8.96969C14.7374 8.6768 14.2625 8.6768 13.9696 8.96969L12 10.9394L10.0303 8.96967Z">
                                                                        </path>
                                                                        <path fill="#f8f1f1"
                                                                            d="M12.0574 1.25H11.9426C9.63424 1.24999 7.82519 1.24998 6.41371 1.43975C4.96897 1.63399 3.82895 2.03933 2.93414 2.93414C2.03933 3.82895 1.63399 4.96897 1.43975 6.41371C1.24998 7.82519 1.24999 9.63422 1.25 11.9426V12.0574C1.24999 14.3658 1.24998 16.1748 1.43975 17.5863C1.63399 19.031 2.03933 20.1711 2.93414 21.0659C3.82895 21.9607 4.96897 22.366 6.41371 22.5603C7.82519 22.75 9.63423 22.75 11.9426 22.75H12.0574C14.3658 22.75 16.1748 22.75 17.5863 22.5603C19.031 22.366 20.1711 21.9607 21.0659 21.0659C21.9607 20.1711 22.366 19.031 22.5603 17.5863C22.75 16.1748 22.75 14.3658 22.75 12.0574V11.9426C22.75 9.63423 22.75 7.82519 22.5603 6.41371C22.366 4.96897 21.9607 3.82895 21.0659 2.93414C20.1711 2.03933 19.031 1.63399 17.5863 1.43975C16.1748 1.24998 14.3658 1.24999 12.0574 1.25ZM3.9948 3.9948C4.56445 3.42514 5.33517 3.09825 6.61358 2.92637C7.91356 2.75159 9.62177 2.75 12 2.75C14.3782 2.75 16.0864 2.75159 17.3864 2.92637C18.6648 3.09825 19.4355 3.42514 20.0052 3.9948C20.5749 4.56445 20.9018 5.33517 21.0736 6.61358C21.2484 7.91356 21.25 9.62177 21.25 12C21.25 14.3782 21.2484 16.0864 21.0736 17.3864C20.9018 18.6648 20.5749 19.4355 20.0052 20.0052C19.4355 20.5749 18.6648 20.9018 17.3864 21.0736C16.0864 21.2484 14.3782 21.25 12 21.25C9.62177 21.25 7.91356 21.2484 6.61358 21.0736C5.33517 20.9018 4.56445 20.5749 3.9948 20.0052C3.42514 19.4355 3.09825 18.6648 2.92637 17.3864C2.75159 16.0864 2.75 14.3782 2.75 12C2.75 9.62177 2.75159 7.91356 2.92637 6.61358C3.09825 5.33517 3.42514 4.56445 3.9948 3.9948Z"
                                                                            clip-rule="evenodd" fill-rule="evenodd">
                                                                        </path>
                                                                    </svg>
                                                                    &nbsp; {{'Close'|translate}}
                                                                </button>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>



                                            <div class="container" *ngIf="viewnewservice=='1'"
                                                style="text-align: center;">

                                                <div class="mt-8">
                                                    <div class="table-responsive">
                                                        <table>
                                                            <thead>
                                                                <tr>
                                                                    <th>{{'Item'|translate}}</th>
                                                                    <th class="w-1">{{'Price'|translate}}</th>
                                                                    <th class="w-1"></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>

                                                                <ng-container *ngIf="quote_items.length <= 0">
                                                                    <tr>
                                                                        <td colspan="5"
                                                                            class="!text-center font-semibold">No Item
                                                                            Available</td>
                                                                    </tr>
                                                                </ng-container>


                                                                <ng-container
                                                                    *ngFor="let item of quote_items; index as i">
                                                                    <ng-container>
                                                                        <tr class="align-top">
                                                                            <td>
                                                                                <!-- <input type="text" class="form-input min-w-[200px]"
                                                                                placeholder="Enter Item Name" [(ngModel)]="item.service_name" name="service_name_{{i}}" /> -->
                                                                                <ng-autocomplete
                                                                                    [data]="package_details"
                                                                                    [searchKeyword]="search_word"
                                                                                    placeholder="Select Service"
                                                                                    (inputCleared)='onClearevent(i)'
                                                                                    [itemTemplate]="itemTemplate"
                                                                                    (selected)='selectEvent($event,i)'
                                                                                    [notFoundTemplate]="notFoundTemplate">
                                                                                </ng-autocomplete>

                                                                                <ng-template #itemTemplate let-item>
                                                                                    <a
                                                                                        [innerHTML]="item.servpack_name"></a>
                                                                                </ng-template>

                                                                                <ng-template #notFoundTemplate
                                                                                    let-notFound>
                                                                                    <div [innerHTML]="notFound"></div>
                                                                                </ng-template>
                                                                            </td>

                                                                            <td>

                                                                                <input type="text" appDisableArrowKeys
                                                                                    class="form-input w-32"
                                                                                    placeholder="Price"
                                                                                    [(ngModel)]="item.amount"
                                                                                    name="amount_{{i}}" min="0"
                                                                                    [maxlength]="6" 
                                                                                    (ngModelChange)="changeAmount(i,item.amount)" />
                                                                            </td>
                                                                            <td>
                                                                                <button type="button"
                                                                                    (click)="removeItem(item)">
                                                                                    <svg width="24" height="24"
                                                                                        viewBox="0 0 24 24" fill="none"
                                                                                        xmlns="http://www.w3.org/2000/svg">
                                                                                        <path
                                                                                            d="M3 6.52381C3 6.12932 3.32671 5.80952 3.72973 5.80952H8.51787C8.52437 4.9683 8.61554 3.81504 9.45037 3.01668C10.1074 2.38839 11.0081 2 12 2C12.9919 2 13.8926 2.38839 14.5496 3.01668C15.3844 3.81504 15.4756 4.9683 15.4821 5.80952H20.2703C20.6733 5.80952 21 6.12932 21 6.52381C21 6.9183 20.6733 7.2381 20.2703 7.2381H3.72973C3.32671 7.2381 3 6.9183 3 6.52381Z"
                                                                                            fill="#1C274C" />
                                                                                        <path fill-rule="evenodd"
                                                                                            clip-rule="evenodd"
                                                                                            d="M11.5956 22H12.4044C15.1871 22 16.5785 22 17.4831 21.1141C18.3878 20.2281 18.4803 18.7749 18.6654 15.8685L18.9321 11.6806C19.0326 10.1036 19.0828 9.31511 18.6289 8.81545C18.1751 8.31579 17.4087 8.31579 15.876 8.31579H8.12404C6.59127 8.31579 5.82488 8.31579 5.37105 8.81545C4.91722 9.31511 4.96744 10.1036 5.06788 11.6806L5.33459 15.8685C5.5197 18.7749 5.61225 20.2281 6.51689 21.1141C7.42153 22 8.81289 22 11.5956 22ZM10.2463 12.1885C10.2051 11.7546 9.83753 11.4381 9.42537 11.4815C9.01321 11.5249 8.71251 11.9117 8.75372 12.3456L9.25372 17.6087C9.29494 18.0426 9.66247 18.3591 10.0746 18.3157C10.4868 18.2724 10.7875 17.8855 10.7463 17.4516L10.2463 12.1885ZM14.5746 11.4815C14.9868 11.5249 15.2875 11.9117 15.2463 12.3456L14.7463 17.6087C14.7051 18.0426 14.3375 18.3591 13.9254 18.3157C13.5132 18.2724 13.2125 17.8855 13.2537 17.4516L13.7537 12.1885C13.7949 11.7546 14.1625 11.4381 14.5746 11.4815Z"
                                                                                            fill="#1C274C" />
                                                                                    </svg>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                    </ng-container>

                                                                </ng-container>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div class="mt-6 flex flex-col justify-between px-4 sm:flex-row">
                                                        <div class="mb-6 sm:mb-0">
                                                            <button type="button" class="btn btn-primary"
                                                                (click)="addItem()">{{'Add Item'|translate}}</button>
                                                        </div>
                                                        <div class="sm:w-2/5">
                                                            <div class="flex items-center justify-between">
                                                                <div>{{'Subtotal'|translate}}</div>
                                                                <div><input type="number" appDisableArrowKeys
                                                                        [(ngModel)]="subtotal" name="subamount"
                                                                        class="form-input w-32" placeholder="Price"
                                                                        min="0" disabled /></div>
                                                            </div>
                                                            <div
                                                                class="mt-4 flex items-center justify-between font-semibold">
                                                                <div>{{'Total'|translate}}</div>
                                                                <div><input type="number" appDisableArrowKeys
                                                                        [(ngModel)]="subtotal" name="subamount"
                                                                        class="form-input w-32" placeholder="Price"
                                                                        min="0" disabled /></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br>
                                                <button type="button" class="btn btn-info w-full gap-2"
                                                    (click)="custom_confirm_modal()" *ngIf="subtotal>0"
                                                    style="width: 15%;margin-left: 82%;">
                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                        class="h-5 w-5 shrink-0 ltr:mr-2 rtl:ml-2">
                                                        <path
                                                            d="M17.4975 18.4851L20.6281 9.09373C21.8764 5.34874 22.5006 3.47624 21.5122 2.48782C20.5237 1.49939 18.6511 2.12356 14.906 3.37189L5.57477 6.48218C3.49295 7.1761 2.45203 7.52305 2.13608 8.28637C2.06182 8.46577 2.01692 8.65596 2.00311 8.84963C1.94433 9.67365 2.72018 10.4495 4.27188 12.0011L4.55451 12.2837C4.80921 12.5384 4.93655 12.6658 5.03282 12.8075C5.22269 13.0871 5.33046 13.4143 5.34393 13.7519C5.35076 13.9232 5.32403 14.1013 5.27057 14.4574C5.07488 15.7612 4.97703 16.4131 5.0923 16.9147C5.32205 17.9146 6.09599 18.6995 7.09257 18.9433C7.59255 19.0656 8.24576 18.977 9.5522 18.7997L9.62363 18.79C9.99191 18.74 10.1761 18.715 10.3529 18.7257C10.6738 18.745 10.9838 18.8496 11.251 19.0285C11.3981 19.1271 11.5295 19.2585 11.7923 19.5213L12.0436 19.7725C13.5539 21.2828 14.309 22.0379 15.1101 21.9985C15.3309 21.9877 15.5479 21.9365 15.7503 21.8474C16.4844 21.5244 16.8221 20.5113 17.4975 18.4851Z"
                                                            stroke="currentColor" stroke-width="1.5" />
                                                        <path opacity="0.5" d="M6 18L21 3" stroke="currentColor"
                                                            stroke-width="1.5" stroke-linecap="round" />
                                                    </svg>
                                                    {{'Add Service'|translate}}
                                                </button>
                                                <button type="button" class="btn btn-info w-full gap-2"
                                                    *ngIf="subtotal==0" style="width: 15%;margin-left: 82%;" disabled>
                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                        xmlns="http://www.w3.org/2000/svg"
                                                        class="h-5 w-5 shrink-0 ltr:mr-2 rtl:ml-2">
                                                        <path
                                                            d="M17.4975 18.4851L20.6281 9.09373C21.8764 5.34874 22.5006 3.47624 21.5122 2.48782C20.5237 1.49939 18.6511 2.12356 14.906 3.37189L5.57477 6.48218C3.49295 7.1761 2.45203 7.52305 2.13608 8.28637C2.06182 8.46577 2.01692 8.65596 2.00311 8.84963C1.94433 9.67365 2.72018 10.4495 4.27188 12.0011L4.55451 12.2837C4.80921 12.5384 4.93655 12.6658 5.03282 12.8075C5.22269 13.0871 5.33046 13.4143 5.34393 13.7519C5.35076 13.9232 5.32403 14.1013 5.27057 14.4574C5.07488 15.7612 4.97703 16.4131 5.0923 16.9147C5.32205 17.9146 6.09599 18.6995 7.09257 18.9433C7.59255 19.0656 8.24576 18.977 9.5522 18.7997L9.62363 18.79C9.99191 18.74 10.1761 18.715 10.3529 18.7257C10.6738 18.745 10.9838 18.8496 11.251 19.0285C11.3981 19.1271 11.5295 19.2585 11.7923 19.5213L12.0436 19.7725C13.5539 21.2828 14.309 22.0379 15.1101 21.9985C15.3309 21.9877 15.5479 21.9365 15.7503 21.8474C16.4844 21.5244 16.8221 20.5113 17.4975 18.4851Z"
                                                            stroke="currentColor" stroke-width="1.5" />
                                                        <path opacity="0.5" d="M6 18L21 3" stroke="currentColor"
                                                            stroke-width="1.5" stroke-linecap="round" />
                                                    </svg>
                                                    {{'Add Service'|translate}}

                                                </button>

                                            </div>

                                            <div>
                                                <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-1"
                                                    *ngIf="activefunctions==0&& (request_details.serm_status==50||request_details.serm_status==25)">
                                                    <button type="button" class="btn btn-success w-full gap-2"
                                                        (click)="startWork(request_details.serm_id);"
                                                        style="width:300px;margin-left: 600px;"
                                                        [disabled]="request_details.serm_hold_flag==1&&activefunctions==0||app_workcard.am_status==0">
                                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg"
                                                            class="h-5 w-5 shrink-0 ltr:mr-2 rtl:ml-2">
                                                            <path
                                                                d="M3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.714 22 12C22 11.6585 22 11.4878 21.9848 11.3142C21.9142 10.5049 21.586 9.71257 21.0637 9.09034C20.9516 8.95687 20.828 8.83317 20.5806 8.58578L15.4142 3.41944C15.1668 3.17206 15.0431 3.04835 14.9097 2.93631C14.2874 2.414 13.4951 2.08581 12.6858 2.01515C12.5122 2 12.3415 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355Z"
                                                                stroke="currentColor" stroke-width="1.5" />
                                                            <path
                                                                d="M17 22V21C17 19.1144 17 18.1716 16.4142 17.5858C15.8284 17 14.8856 17 13 17H11C9.11438 17 8.17157 17 7.58579 17.5858C7 18.1716 7 19.1144 7 21V22"
                                                                stroke="currentColor" stroke-width="1.5" />
                                                            <path opacity="0.5" d="M7 8H13" stroke="currentColor"
                                                                stroke-width="1.5" stroke-linecap="round" />
                                                        </svg>
                                                        Start Work
                                                    </button>

                                                </div>
                                                <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-1"
                                                    *ngIf="completeflag||request_details.serm_status==56">
                                                    <button type="button" class="btn btn-success w-full gap-2"
                                                        (click)="completeWork(request_details.serm_id);"
                                                        style="width:300px;margin-left: 600px;">
                                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg"
                                                            class="h-5 w-5 shrink-0 ltr:mr-2 rtl:ml-2">
                                                            <path
                                                                d="M3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.714 22 12C22 11.6585 22 11.4878 21.9848 11.3142C21.9142 10.5049 21.586 9.71257 21.0637 9.09034C20.9516 8.95687 20.828 8.83317 20.5806 8.58578L15.4142 3.41944C15.1668 3.17206 15.0431 3.04835 14.9097 2.93631C14.2874 2.414 13.4951 2.08581 12.6858 2.01515C12.5122 2 12.3415 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355Z"
                                                                stroke="currentColor" stroke-width="1.5" />
                                                            <path
                                                                d="M17 22V21C17 19.1144 17 18.1716 16.4142 17.5858C15.8284 17 14.8856 17 13 17H11C9.11438 17 8.17157 17 7.58579 17.5858C7 18.1716 7 19.1144 7 21V22"
                                                                stroke="currentColor" stroke-width="1.5" />
                                                            <path opacity="0.5" d="M7 8H13" stroke="currentColor"
                                                                stroke-width="1.5" stroke-linecap="round" />
                                                        </svg>
                                                        complete Work
                                                    </button>
                                                </div>
                                            </div>
                                            <ng-container
                                                *ngIf="request_details.serm_status==50||request_details.serm_status==28">
                                                <div class="flex flex-col justify-between lg:flex-row">
                                                    <div class="mb-6 w-full lg:w-1/2 ltr:lg:mr-6 rtl:lg:ml-6">
                                                        <div class="mt-4 flex gap-2 items-center">
                                                            <div class="mt-4 flex  items-center" *ngIf="rec_toolarray"
                                                                style="margin-left:10%;">
                                                                <button type="button" class="btn btn-outline-success"
                                                                    *ngIf="recomendtoolsflag==0"
                                                                    (click)="recomendtools(0)">
                                                                    {{'Recommend Tool'|translate}}
                                                                </button>
                                                                <button type="button" class="btn btn-outline-danger"
                                                                    *ngIf="recomendtoolsflag==1"
                                                                    (click)="recomendtools(1)">
                                                                    {{'Close'|translate}}
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="flex flex-col-3">
                                                    <div class="col-span-2 relative flex items-center rounded border border-warning bg-danger-light p-3.5 text-warning before:absolute before:top-1/2 before:-mt-2 before:inline-block before:border-r-8 before:border-t-8 before:border-b-8 before:border-t-transparent before:border-b-transparent before:border-r-inherit ltr:border-r-[64px] ltr:before:right-0 rtl:border-l-[64px] rtl:before:left-0 rtl:before:rotate-180 dark:bg-danger-dark-light"
                                                        *ngIf="rec_toolarray.length == '0' && recomendtoolsflag==1">
                                                        <span
                                                            class="absolute inset-y-0 m-auto h-6 w-6 text-white ltr:-right-11 rtl:-left-11">
                                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg" class="h-6 w-6">
                                                                <circle opacity="0.5" cx="12" cy="12" r="10"
                                                                    stroke="currentColor" stroke-width="1.5" />
                                                                <path d="M12 7V13" stroke="currentColor"
                                                                    stroke-width="1.5" stroke-linecap="round" />
                                                                <circle cx="12" cy="16" r="1" fill="currentColor" />
                                                            </svg>
                                                        </span>
                                                        <span class="ltr:pr-2 rtl:pl-2"><strong
                                                                class="ltr:mr-1 rtl:ml-1">{{'Warning'|translate}}!</strong>{{'No
                                                            tools to recommend for this service'|translate}}.</span>
                                                        <button type="button"
                                                            class="btn btn-sm hover:opacity-80 ltr:ml-auto rtl:mr-auto"
                                                            style="background-color: #8d6d0491;color: white;"
                                                            routerLink="/service-package-list">
                                                            Add Recommend Tools
                                                        </button>
                                                    </div>
                                                </div>


                                            </ng-container>

                                            <div *ngIf="recomendtoolsflag==1">
                                                <div
                                                    class="grid w-full grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4">
                                                    <ng-container *ngFor="let data of rec_toolarray" key="data.id">
                                                        
                                                        <div
                                                            class="relative overflow-hidden rounded-md bg-white text-center shadow dark:bg-[#1c232f]">
                                                            <div>
                                                                <br><br>
                                                                <ng-container *ngIf="data.tool_images">
                                                                    <img class="mx-auto max-h-40 w-4/5 object-contain"
                                                                        src="{{baseurl+data.tool_images}}" />
                                                                </ng-container>
                                                                <br><br>
                                                            </div>
                                                            <br><br><br><br>
                                                            <div class="relative -mt-10 px-6 pb-24">
                                                                <div
                                                                    class="rounded-md bg-white px-2 py-4 shadow-md dark:bg-gray-900">
                                                                    <div class="text-l">{{ data.tool_name }}</div>
                                                                </div>
                                                                <div
                                                                    class="mt-6 grid grid-cols-1 gap-4 ltr:text-left rtl:text-right">
                                                                    <div class="flex items-center">
                                                                        <div class="flex-none ltr:mr-2 rtl:ml-2">
                                                                            {{'Cost'|translate}} :</div>
                                                                        <div class="text-white-dark">{{
                                                                            data.tool_rent_cost }}</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="absolute bottom-0 mt-6 flex w-full gap-3 p-6 ltr:left-0 rtl:right-0"
                                                                style="width: 65%;">
                                                                <button type="button"
                                                                    class="btn btn-outline-success w-1/2"
                                                                    (click)="acceptmodal?.open()">
                                                                    {{'Recommend Tool'|translate}}
                                                                </button>

                                                                <modal #acceptmodal>
                                                                    <ng-template #modalHeader>

                                                                    </ng-template>
                                                                    <ng-template #modalBody>
                                                                        <p>
                                                                            {{'Proceed for Recommendation'|translate}}?
                                                                        </p>
                                                                        <div class="mt-4 flex items-center">
                                                                            <label for="reciever-email"
                                                                                class="mb-0 w-1/3 ltr:mr-2 rtl:ml-2">{{'Enter
                                                                                Days'|translate}}</label>
                                                                            <input id="reciever-email" type="number"
                                                                                appDisableArrowKeys
                                                                                name="reciever-email"
                                                                                class="form-input flex-1"
                                                                                [(ngModel)]="days" name="email" />
                                                                        </div>
                                                                    </ng-template>
                                                                    <ng-template #modalFooter>
                                                                        <button type="button"
                                                                            (click)="acceptmodal.close()"
                                                                            class="btn btn-outline-danger">Close</button>
                                                                        <button type="button"
                                                                            (click)="toolrecomendation(data)"
                                                                            [disabled]="days==0 || days == ''|| days== null || proceedFlag"
                                                                            class="btn btn-primary ltr:ml-4 rtl:mr-4">{{'Proceed'|translate}}
                                                                            <span
                                                                                class="badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4"
                                                                                *ngIf="proceedFlag"><svg
                                                                                    viewBox="0 0 24 24" width="24"
                                                                                    height="24" stroke="currentColor"
                                                                                    stroke-width="1.5" fill="none"
                                                                                    stroke-linecap="round"
                                                                                    stroke-linejoin="round"
                                                                                    class="inline-block h-5 w-5 shrink-0 animate-[spin_2s_linear_infinite] align-middle">
                                                                                    <line x1="12" y1="2" x2="12" y2="6">
                                                                                    </line>
                                                                                    <line x1="12" y1="18" x2="12"
                                                                                        y2="22">
                                                                                    </line>
                                                                                    <line x1="4.93" y1="4.93" x2="7.76"
                                                                                        y2="7.76"></line>
                                                                                    <line x1="16.24" y1="16.24"
                                                                                        x2="19.07" y2="19.07"></line>
                                                                                    <line x1="2" y1="12" x2="6" y2="12">
                                                                                    </line>
                                                                                    <line x1="18" y1="12" x2="22"
                                                                                        y2="12">
                                                                                    </line>
                                                                                    <line x1="4.93" y1="19.07" x2="7.76"
                                                                                        y2="16.24"></line>
                                                                                    <line x1="16.24" y1="7.76"
                                                                                        x2="19.07" y2="4.93"></line>
                                                                                </svg></span>
                                                                        </button>
                                                                    </ng-template>

                                                                </modal>

                                                            </div>
                                                        </div>

                                                    </ng-container>
                                                </div>



                                            </div>
                                            <ng-container *ngIf="(tool_reqs.length)>0">
                                                <div class="mt-8" style="    padding: 3%;">
                                                    <div class="datatable">
                                                        <ng-datatable [rows]="rows" [columns]="cols"
                                                            skin="whitespace-nowrap bh-table-hover"
                                                            firstArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                                                            lastArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> '
                                                            previousArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
                                                            nextArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'>

                                                            <ng-template slot="serm_number" let-value="data">
                                                                <span> {{ request_details.serm_number }}</span>
                                                            </ng-template>
                                                            <ng-template slot="tldet_number" let-value="data">
                                                                <span *ngIf="value.sitem_status_flag!=4"> {{'Request Not
                                                                    Yet Created'|translate}}</span>
                                                                <span *ngIf="value.sitem_status_flag==4">
                                                                    {{value.requet_details.tldt_number}}</span>
                                                            </ng-template>
                                                            <ng-template slot="current_status" let-value="data">
                                                                <span *ngIf="value.sitem_status_flag==3">{{'Tool
                                                                    Recommendation yet to be
                                                                    accepted'|translate}}</span>
                                                                <span *ngIf="value.sitem_status_flag==4">{{'Tool
                                                                    Recommendation accepted'|translate}}</span>
                                                                <span *ngIf="value.sitem_status_flag==5">{{'Tool
                                                                    Recommendation Rejected'|translate}}</span>
                                                            </ng-template>
                                                            <ng-template slot="sm_name" let-value="data">
                                                                <span *ngIf="value.sitem_status_flag!=4">{{'Request Not
                                                                    Yet Created'|translate}}</span>
                                                                <span class="badge badge-outline-info"
                                                                    *ngIf="value.sitem_status_flag==4">
                                                                    <ng-container *ngIf="value.requet_details.sm_id==8">
                                                                        {{'Tool Ready to Deliver'|translate}}
                                                                    </ng-container>
                                                                    <ng-container *ngIf="value.requet_details.sm_id!=8">
                                                                        {{value.requet_details.sm_name}}
                                                                    </ng-container>

                                                                </span>
                                                            </ng-template>
                                                            <ng-template slot="Action" let-value="data">

                                                                <button type="button" ngxTippy data-tippy-content="Edit"
                                                                    [disabled]="value.sitem_status_flag!=4"
                                                                    (click)="tooledit(value.requet_details.tldet_id)">
                                                                    <svg width="24" height="24" viewBox="0 0 24 24"
                                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                                            d="M2 6.63415C2 4.07478 4.07478 2 6.63415 2C9.19351 2 11.2683 4.07478 11.2683 6.63415C11.2683 9.19351 9.19351 11.2683 6.63415 11.2683C4.07478 11.2683 2 9.19351 2 6.63415Z"
                                                                            fill="#1C274C" />
                                                                        <path opacity="0.5" fill-rule="evenodd"
                                                                            clip-rule="evenodd"
                                                                            d="M12.7324 17.3658C12.7324 14.8065 14.8072 12.7317 17.3666 12.7317C19.9259 12.7317 22.0007 14.8065 22.0007 17.3658C22.0007 19.9252 19.9259 22 17.3666 22C14.8072 22 12.7324 19.9252 12.7324 17.3658Z"
                                                                            fill="#1C274C" />
                                                                        <path
                                                                            d="M2 17.5C2 15.3787 2 14.318 2.65901 13.659C3.31802 13 4.37868 13 6.5 13C8.62132 13 9.68198 13 10.341 13.659C11 14.318 11 15.3787 11 17.5C11 19.6213 11 20.682 10.341 21.341C9.68198 22 8.62132 22 6.5 22C4.37868 22 3.31802 22 2.65901 21.341C2 20.682 2 19.6213 2 17.5Z"
                                                                            fill="#1C274C" />
                                                                        <path opacity="0.5"
                                                                            d="M13 6.5C13 4.37868 13 3.31802 13.659 2.65901C14.318 2 15.3787 2 17.5 2C19.6213 2 20.682 2 21.341 2.65901C22 3.31802 22 4.37868 22 6.5C22 8.62132 22 9.68198 21.341 10.341C20.682 11 19.6213 11 17.5 11C15.3787 11 14.318 11 13.659 10.341C13 9.68198 13 8.62132 13 6.5Z"
                                                                            fill="#1C274C" />
                                                                    </svg>

                                                                </button>

                                                            </ng-template>
                                                        </ng-datatable>
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="loader" *ngIf="loader==true"></div>